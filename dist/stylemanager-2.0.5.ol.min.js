!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2018, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t={},n=0,a=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<a.length;n+=1){var i=a[n];t["[object "+i+"]"]=i.toLowerCase()}var s=function(e){return t[Object.prototype.toString.call(e)]||"object"},r=Math.PI,l={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:e,type:s,unpack:function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==s(e[0])&&t?t.split("").filter(function(t){return void 0!==e[0][t]}).map(function(t){return e[0][t]}):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==s(e[t])?e[t].toLowerCase():null},PI:r,TWOPI:2*r,PITHIRD:r/3,DEG2RAD:r/180,RAD2DEG:180/r},o={format:{},autodetect:[]},c=l.last,d=l.clip_rgb,u=l.type,f=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("object"===u(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=c(e),a=!1;if(!n){a=!0,o.sorted||(o.autodetect=o.autodetect.sort(function(e,t){return t.p-e.p}),o.sorted=!0);for(var i=0,s=o.autodetect;i<s.length;i+=1){var r=s[i];if(n=r.test.apply(r,e))break}}if(!o.format[n])throw new Error("unknown format: "+e);var l=o.format[n].apply(null,a?e:e.slice(0,-1));this._rgb=d(l),3===this._rgb.length&&this._rgb.push(1)};f.prototype.toString=function(){return"function"==u(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var p=f,v=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(v.Color,[null].concat(e)))};v.Color=p,v.version="2.0.3";var y=v,g=l.unpack,h=Math.max,m=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=g(e,"rgb"),a=n[0],i=n[1],s=n[2],r=1-h(a/=255,h(i/=255,s/=255)),l=r<1?1/(1-r):0,o=(1-a-r)*l,c=(1-i-r)*l,d=(1-s-r)*l;return[o,c,d,r]},b=l.unpack,k=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=b(e,"cmyk"))[0],a=e[1],i=e[2],s=e[3],r=e.length>4?e[4]:1;return 1===s?[0,0,0,r]:[n>=1?0:255*(1-n)*(1-s),a>=1?0:255*(1-a)*(1-s),i>=1?0:255*(1-i)*(1-s),r]},S=l.unpack,w=l.type;p.prototype.cmyk=function(){return m(this._rgb)},y.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["cmyk"])))},o.format.cmyk=k,o.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=S(e,"cmyk"),"array"===w(e)&&4===e.length)return"cmyk"}});var _=l.unpack,O=l.last,E=function(e){return Math.round(100*e)/100},x=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=_(e,"hsla"),a=O(e)||"lsa";return n[0]=E(n[0]||0),n[1]=E(100*n[1])+"%",n[2]=E(100*n[2])+"%","hsla"===a||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,a="hsla"):n.length=3,a+"("+n.join(",")+")"},L=l.unpack,P=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=L(e,"rgba"))[0],a=e[1],i=e[2];n/=255,a/=255,i/=255;var s,r,l=Math.min(n,a,i),o=Math.max(n,a,i),c=(o+l)/2;return o===l?(s=0,r=Number.NaN):s=c<.5?(o-l)/(o+l):(o-l)/(2-o-l),n==o?r=(a-i)/(o-l):a==o?r=2+(i-n)/(o-l):i==o&&(r=4+(n-a)/(o-l)),(r*=60)<0&&(r+=360),e.length>3&&void 0!==e[3]?[r,s,c,e[3]]:[r,s,c]},q=l.unpack,A=l.last,T=Math.round,C=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=q(e,"rgba"),a=A(e)||"rgb";return"hsl"==a.substr(0,3)?x(P(n),a):(n[0]=T(n[0]),n[1]=T(n[1]),n[2]=T(n[2]),("rgba"===a||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,a="rgba"),a+"("+n.slice(0,"rgb"===a?3:4).join(",")+")")},M=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,j=/^#?([A-Fa-f0-9]{8})$/,N=function(e){if(e.match(M)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16),n=t>>16,a=t>>8&255,i=255&t;return[n,a,i,1]}if(e.match(j)){9===e.length&&(e=e.substr(1));var s=parseInt(e,16),r=s>>24&255,l=s>>16&255,o=s>>8&255,c=Math.round((255&s)/255*100)/100;return[r,l,o,c]}throw new Error("unknown hex color: "+e)},F=l.unpack,I=Math.round,R=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var a,i,s,r=(t=F(t,"hsl"))[0],l=t[1],o=t[2];if(0===l)a=i=s=255*o;else{var c=[0,0,0],d=[0,0,0],u=o<.5?o*(1+l):o+l-o*l,f=2*o-u,p=r/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var v=0;v<3;v++)c[v]<0&&(c[v]+=1),c[v]>1&&(c[v]-=1),6*c[v]<1?d[v]=f+6*(u-f)*c[v]:2*c[v]<1?d[v]=u:3*c[v]<2?d[v]=f+(u-f)*(2/3-c[v])*6:d[v]=f;e=[I(255*d[0]),I(255*d[1]),I(255*d[2])],a=e[0],i=e[1],s=e[2]}return t.length>3?[a,i,s,t[3]]:[a,i,s,1]},D={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},B=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,G=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,U=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,H=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,V=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Y=Math.round,K=function(e){if(e=e.toLowerCase().trim(),D[e])return N(D[e]);var t;if(t=e.match(B)){for(var n=t.slice(1,4),a=0;a<3;a++)n[a]=+n[a];return n[3]=1,n}if(t=e.match(G)){for(var i=t.slice(1,5),s=0;s<4;s++)i[s]=+i[s];return i}if(t=e.match(z)){for(var r=t.slice(1,4),l=0;l<3;l++)r[l]=Y(2.55*r[l]);return r[3]=1,r}if(t=e.match(U)){for(var o=t.slice(1,5),c=0;c<3;c++)o[c]=Y(2.55*o[c]);return o[3]=+o[3],o}if(t=e.match(H)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var u=R(d);return u[3]=1,u}if(t=e.match(V)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var p=R(f);return p[3]=+t[4],p}};K.test=function(e){return B.test(e)||G.test(e)||z.test(e)||U.test(e)||H.test(e)||V.test(e)};var X=K,J=l.type;p.prototype.css=function(e){return C(this._rgb,e)},y.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["css"])))},o.format.css=X,o.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===J(e)&&X.test(e))return"css"}});var W=l.unpack;o.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=W(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},y.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["gl"])))},p.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var $=l.unpack,Q=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a=$(e,"rgb"),i=a[0],s=a[1],r=a[2],l=Math.min(i,s,r),o=Math.max(i,s,r),c=o-l,d=100*c/255,u=l/(255-c)*100;return 0===c?n=Number.NaN:(i===o&&(n=(s-r)/c),s===o&&(n=2+(r-i)/c),r===o&&(n=4+(i-s)/c),(n*=60)<0&&(n+=360)),[n,d,u]},Z=l.unpack,ee=Math.floor,te=function(){for(var e,t,n,a,i,s,r=[],l=arguments.length;l--;)r[l]=arguments[l];var o,c,d,u=(r=Z(r,"hcg"))[0],f=r[1],p=r[2];p*=255;var v=255*f;if(0===f)o=c=d=p;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var y=ee(u/=60),g=u-y,h=p*(1-f),m=h+v*(1-g),b=h+v*g,k=h+v;switch(y){case 0:o=(e=[k,b,h])[0],c=e[1],d=e[2];break;case 1:o=(t=[m,k,h])[0],c=t[1],d=t[2];break;case 2:o=(n=[h,k,b])[0],c=n[1],d=n[2];break;case 3:o=(a=[h,m,k])[0],c=a[1],d=a[2];break;case 4:o=(i=[b,h,k])[0],c=i[1],d=i[2];break;case 5:o=(s=[k,h,m])[0],c=s[1],d=s[2]}}return[o,c,d,r.length>3?r[3]:1]},ne=l.unpack,ae=l.type;p.prototype.hcg=function(){return Q(this._rgb)},y.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["hcg"])))},o.format.hcg=te,o.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ne(e,"hcg"),"array"===ae(e)&&3===e.length)return"hcg"}});var ie=l.unpack,se=l.last,re=Math.round,le=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ie(e,"rgba"),a=n[0],i=n[1],s=n[2],r=n[3],l=se(e)||"auto";void 0===r&&(r=1),"auto"===l&&(l=r<1?"rgba":"rgb"),a=re(a),i=re(i),s=re(s);var o=a<<16|i<<8|s,c="000000"+o.toString(16);c=c.substr(c.length-6);var d="0"+re(255*r).toString(16);switch(d=d.substr(d.length-2),l.toLowerCase()){case"rgba":return"#"+c+d;case"argb":return"#"+d+c;default:return"#"+c}},oe=l.type;p.prototype.hex=function(e){return le(this._rgb,e)},y.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["hex"])))},o.format.hex=N,o.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===oe(e)&&[3,4,6,7,8,9].includes(e.length))return"hex"}});var ce=l.unpack,de=l.TWOPI,ue=Math.min,fe=Math.sqrt,pe=Math.acos,ve=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a=ce(e,"rgb"),i=a[0],s=a[1],r=a[2],l=ue(i/=255,s/=255,r/=255),o=(i+s+r)/3,c=o>0?1-l/o:0;return 0===c?n=NaN:(n=(i-s+(i-r))/2,n/=fe((i-s)*(i-s)+(i-r)*(s-r)),n=pe(n),r>s&&(n=de-n),n/=de),[360*n,c,o]},ye=l.unpack,ge=l.limit,he=l.TWOPI,me=l.PITHIRD,be=Math.cos,ke=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,s=(e=ye(e,"hsi"))[0],r=e[1],l=e[2];return isNaN(s)&&(s=0),isNaN(r)&&(r=0),s>360&&(s-=360),s<0&&(s+=360),(s/=360)<1/3?(i=(1-r)/3,n=(1+r*be(he*s)/be(me-he*s))/3,a=1-(i+n)):s<2/3?(n=(1-r)/3,a=(1+r*be(he*(s-=1/3))/be(me-he*s))/3,i=1-(n+a)):(a=(1-r)/3,i=(1+r*be(he*(s-=2/3))/be(me-he*s))/3,n=1-(a+i)),n=ge(l*n*3),a=ge(l*a*3),i=ge(l*i*3),[255*n,255*a,255*i,e.length>3?e[3]:1]},Se=l.unpack,we=l.type;p.prototype.hsi=function(){return ve(this._rgb)},y.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["hsi"])))},o.format.hsi=ke,o.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Se(e,"hsi"),"array"===we(e)&&3===e.length)return"hsi"}});var _e=l.unpack,Oe=l.type;p.prototype.hsl=function(){return P(this._rgb)},y.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["hsl"])))},o.format.hsl=R,o.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=_e(e,"hsl"),"array"===Oe(e)&&3===e.length)return"hsl"}});var Ee=l.unpack,xe=Math.min,Le=Math.max,Pe=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,s=(e=Ee(e,"rgb"))[0],r=e[1],l=e[2],o=xe(s,r,l),c=Le(s,r,l),d=c-o;return i=c/255,0===c?(n=Number.NaN,a=0):(a=d/c,s===c&&(n=(r-l)/d),r===c&&(n=2+(l-s)/d),l===c&&(n=4+(s-r)/d),(n*=60)<0&&(n+=360)),[n,a,i]},qe=l.unpack,Ae=Math.floor,Te=function(){for(var e,t,n,a,i,s,r=[],l=arguments.length;l--;)r[l]=arguments[l];var o,c,d,u=(r=qe(r,"hsv"))[0],f=r[1],p=r[2];if(p*=255,0===f)o=c=d=p;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var v=Ae(u/=60),y=u-v,g=p*(1-f),h=p*(1-f*y),m=p*(1-f*(1-y));switch(v){case 0:o=(e=[p,m,g])[0],c=e[1],d=e[2];break;case 1:o=(t=[h,p,g])[0],c=t[1],d=t[2];break;case 2:o=(n=[g,p,m])[0],c=n[1],d=n[2];break;case 3:o=(a=[g,h,p])[0],c=a[1],d=a[2];break;case 4:o=(i=[m,g,p])[0],c=i[1],d=i[2];break;case 5:o=(s=[p,g,h])[0],c=s[1],d=s[2]}}return[o,c,d,r.length>3?r[3]:1]},Ce=l.unpack,Me=l.type;p.prototype.hsv=function(){return Pe(this._rgb)},y.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["hsv"])))},o.format.hsv=Te,o.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ce(e,"hsv"),"array"===Me(e)&&3===e.length)return"hsv"}});var je={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ne=l.unpack,Fe=Math.pow,Ie=function(e){return(e/=255)<=.04045?e/12.92:Fe((e+.055)/1.055,2.4)},Re=function(e){return e>je.t3?Fe(e,1/3):e/je.t2+je.t0},De=function(e,t,n){e=Ie(e),t=Ie(t),n=Ie(n);var a=Re((.4124564*e+.3575761*t+.1804375*n)/je.Xn),i=Re((.2126729*e+.7151522*t+.072175*n)/je.Yn),s=Re((.0193339*e+.119192*t+.9503041*n)/je.Zn);return[a,i,s]},Be=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ne(e,"rgb"),a=n[0],i=n[1],s=n[2],r=De(a,i,s),l=r[0],o=r[1],c=r[2],d=116*o-16;return[d<0?0:d,500*(l-o),200*(o-c)]},Ge=l.unpack,ze=Math.pow,Ue=function(e){return 255*(e<=.00304?12.92*e:1.055*ze(e,1/2.4)-.055)},He=function(e){return e>je.t1?e*e*e:je.t2*(e-je.t0)},Ve=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,i,s,r,l,o=(e=Ge(e,"lab"))[0],c=e[1],d=e[2];return a=(o+16)/116,n=isNaN(c)?a:a+c/500,i=isNaN(d)?a:a-d/200,a=je.Yn*He(a),n=je.Xn*He(n),i=je.Zn*He(i),s=Ue(3.2404542*n-1.5371385*a-.4985314*i),r=Ue(-.969266*n+1.8760108*a+.041556*i),l=Ue(.0556434*n-.2040259*a+1.0572252*i),[s,r,l,e.length>3?e[3]:1]},Ye=l.unpack,Ke=l.type;p.prototype.lab=function(){return Be(this._rgb)},y.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["lab"])))},o.format.lab=Ve,o.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ye(e,"lab"),"array"===Ke(e)&&3===e.length)return"lab"}});var Xe=l.unpack,Je=l.RAD2DEG,We=Math.sqrt,$e=Math.atan2,Qe=Math.round,Ze=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Xe(e,"lab"),a=n[0],i=n[1],s=n[2],r=We(i*i+s*s),l=($e(s,i)*Je+360)%360;return 0===Qe(1e4*r)&&(l=Number.NaN),[a,r,l]},et=l.unpack,tt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=et(e,"rgb"),a=n[0],i=n[1],s=n[2],r=Be(a,i,s),l=r[0],o=r[1],c=r[2];return Ze(l,o,c)},nt=l.unpack,at=l.DEG2RAD,it=Math.sin,st=Math.cos,rt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=nt(e,"lch"),a=n[0],i=n[1],s=n[2];return isNaN(s)&&(s=0),[a,st(s*=at)*i,it(s)*i]},lt=l.unpack,ot=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=lt(e,"lch"))[0],a=e[1],i=e[2],s=rt(n,a,i),r=s[0],l=s[1],o=s[2],c=Ve(r,l,o),d=c[0],u=c[1],f=c[2];return[d,u,f,e.length>3?e[3]:1]},ct=l.unpack,dt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ct(e,"hcl").reverse();return ot.apply(void 0,n)},ut=l.unpack,ft=l.type;p.prototype.lch=function(){return tt(this._rgb)},p.prototype.hcl=function(){return tt(this._rgb).reverse()},y.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["lch"])))},y.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["hcl"])))},o.format.lch=ot,o.format.hcl=dt,["lch","hcl"].forEach(function(e){return o.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=ut(t,e),"array"===ft(t)&&3===t.length)return e}})});var pt=l.type;p.prototype.name=function(){for(var e=le(this._rgb,"rgb"),t=0,n=Object.keys(D);t<n.length;t+=1){var a=n[t];if(D[a]===e)return a.toLowerCase()}return e},o.format.named=function(e){if(e=e.toLowerCase(),D[e])return N(D[e]);throw new Error("unknown color name: "+e)},o.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===pt(e)&&D[e.toLowerCase()])return"named"}});var vt=l.unpack,yt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=vt(e,"rgb"),a=n[0],i=n[1],s=n[2];return(a<<16)+(i<<8)+s},gt=l.type,ht=function(e){if("number"==gt(e)&&e>=0&&e<=16777215){var t=e>>16,n=e>>8&255,a=255&e;return[t,n,a,1]}throw new Error("unknown num color: "+e)},mt=l.type;p.prototype.num=function(){return yt(this._rgb)},y.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["num"])))},o.format.num=ht,o.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===mt(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var bt=l.unpack,kt=l.type,St=Math.round;p.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(St)},p.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map(function(t,n){return n<3?!1===e?t:St(t):t})},y.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["rgb"])))},o.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=bt(e,"rgba");return void 0===n[3]&&(n[3]=1),n},o.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=bt(e,"rgba"),"array"===kt(e)&&(3===e.length||4===e.length&&"number"==kt(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var wt=Math.log,_t=function(e){var t,n,a,i=e/100;return i<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*wt(n),a=i<20?0:.8274096064007395*(a=i-10)-254.76935184120902+115.67994401066147*wt(a)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*wt(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*wt(n),a=255),[t,n,a,1]},Ot=l.unpack,Et=Math.round,xt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,a=Ot(e,"rgb"),i=a[0],s=a[2],r=1e3,l=4e4;l-r>.4;){var o=_t(n=.5*(l+r));o[2]/o[0]>=s/i?l=n:r=n}return Et(n)};p.prototype.temp=p.prototype.kelvin=p.prototype.temperature=function(){return xt(this._rgb)},y.temp=y.kelvin=y.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p,[null].concat(e,["temp"])))},o.format.temp=o.format.kelvin=o.format.temperature=_t;var Lt=l.type;p.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Lt(e)?t?(this._rgb[3]=e,this):new p([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},p.prototype.clipped=function(){return this._rgb._clipped||!1},p.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=je.Kn*e,new p(t,"lab").alpha(this.alpha(),!0)},p.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},p.prototype.darker=p.prototype.darken,p.prototype.brighter=p.prototype.brighten,p.prototype.get=function(e){var t=e.split("."),n=t[0],a=t[1],i=this[n]();if(a){var s=n.indexOf(a);if(s>-1)return i[s];throw new Error("unknown channel "+a+" in mode "+n)}return i};var Pt=l.type,qt=Math.pow;p.prototype.luminance=function(e){if(void 0!==e&&"number"===Pt(e)){if(0===e)return new p([0,0,0,this._rgb[3]],"rgb");if(1===e)return new p([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,a=function(t,i){var s=t.interpolate(i,.5,"rgb"),r=s.luminance();return Math.abs(e-r)<1e-7||!n--?s:r>e?a(t,s):a(s,i)},i=(t>e?a(new p([0,0,0]),this):a(this,new p([255,255,255]))).rgb();return new p(i.concat([this._rgb[3]]))}return At.apply(void 0,this._rgb.slice(0,3))};var At=function(e,t,n){return e=Tt(e),t=Tt(t),n=Tt(n),.2126*e+.7152*t+.0722*n},Tt=function(e){return(e/=255)<=.03928?e/12.92:qt((e+.055)/1.055,2.4)},Ct={},Mt=l.type,jt=function(e,t,n){void 0===n&&(n=.5);for(var a=[],i=arguments.length-3;i-- >0;)a[i]=arguments[i+3];var s=a[0]||"lrgb";if(Ct[s]||a.length||(s=Object.keys(Ct)[0]),!Ct[s])throw new Error("interpolation mode "+s+" is not defined");return"object"!==Mt(e)&&(e=new p(e)),"object"!==Mt(t)&&(t=new p(t)),Ct[s](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};p.prototype.mix=p.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];return jt.apply(void 0,[this,e,t].concat(n))},p.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new p([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},p.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=je.Kn*e,t[1]<0&&(t[1]=0),new p(t,"lch").alpha(this.alpha(),!0)},p.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var Nt=l.type;p.prototype.set=function(e,t,n){void 0===n&&(n=!1);var a=e.split("."),i=a[0],s=a[1],r=this[i]();if(s){var l=i.indexOf(s);if(l>-1){if("string"==Nt(t))switch(t.charAt(0)){case"+":case"-":r[l]+=+t;break;case"*":r[l]*=+t.substr(1);break;case"/":r[l]/=+t.substr(1);break;default:r[l]=+t}else{if("number"!==Nt(t))throw new Error("unsupported value for Color.set");r[l]=t}var o=new p(r,i);return n?(this._rgb=o._rgb,this):o}throw new Error("unknown channel "+s+" in mode "+i)}return r},Ct.rgb=function(e,t,n){var a=e._rgb,i=t._rgb;return new p(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"rgb")};var Ft=Math.sqrt,It=Math.pow;Ct.lrgb=function(e,t,n){var a=e._rgb,i=a[0],s=a[1],r=a[2],l=t._rgb,o=l[0],c=l[1],d=l[2];return new p(Ft(It(i,2)*(1-n)+It(o,2)*n),Ft(It(s,2)*(1-n)+It(c,2)*n),Ft(It(r,2)*(1-n)+It(d,2)*n),"rgb")},Ct.lab=function(e,t,n){var a=e.lab(),i=t.lab();return new p(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),"lab")};var Rt=function(e,t,n,a){var i,s,r,l,o,c,d,u,f,v,y,g;return"hsl"===a?(r=e.hsl(),l=t.hsl()):"hsv"===a?(r=e.hsv(),l=t.hsv()):"hcg"===a?(r=e.hcg(),l=t.hcg()):"hsi"===a?(r=e.hsi(),l=t.hsi()):"lch"!==a&&"hcl"!==a||(a="hcl",r=e.hcl(),l=t.hcl()),"h"===a.substr(0,1)&&(o=(i=r)[0],d=i[1],f=i[2],c=(s=l)[0],u=s[1],v=s[2]),isNaN(o)||isNaN(c)?isNaN(o)?isNaN(c)?g=Number.NaN:(g=c,1!=f&&0!=f||"hsv"==a||(y=u)):(g=o,1!=v&&0!=v||"hsv"==a||(y=d)):g=o+n*(c>o&&c-o>180?c-(o+360):c<o&&o-c>180?c+360-o:c-o),void 0===y&&(y=d+n*(u-d)),new p([g,y,f+n*(v-f)],a)},Dt=function(e,t,n){return Rt(e,t,n,"lch")};Ct.lch=Dt,Ct.hcl=Dt,Ct.num=function(e,t,n){var a=e.num(),i=t.num();return new p(a+n*(i-a),"num")},Ct.hcg=function(e,t,n){return Rt(e,t,n,"hcg")},Ct.hsi=function(e,t,n){return Rt(e,t,n,"hsi")},Ct.hsl=function(e,t,n){return Rt(e,t,n,"hsl")},Ct.hsv=function(e,t,n){return Rt(e,t,n,"hsv")};var Bt=l.clip_rgb,Gt=Math.pow,zt=Math.sqrt,Ut=Math.PI,Ht=Math.cos,Vt=Math.sin,Yt=Math.atan2,Kt=function(e){for(var t=e.length,n=1/t,a=[0,0,0,0],i=0,s=e;i<s.length;i+=1){var r=s[i],l=r._rgb;a[0]+=Gt(l[0],2)*n,a[1]+=Gt(l[1],2)*n,a[2]+=Gt(l[2],2)*n,a[3]+=l[3]*n}return a[0]=zt(a[0]),a[1]=zt(a[1]),a[2]=zt(a[2]),a[3]>.9999999&&(a[3]=1),new p(Bt(a))},Xt=l.type,Jt=Math.pow,Wt=function(e){var t="rgb",n=y("#ccc"),a=0,i=[0,1],s=[],r=[0,0],l=!1,o=[],c=!1,d=0,u=1,f=!1,p={},v=!0,g=1,h=function(e){if((e=e||["#fff","#000"])&&"string"===Xt(e)&&y.brewer&&y.brewer[e.toLowerCase()]&&(e=y.brewer[e.toLowerCase()]),"array"===Xt(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=y(e[t]);s.length=0;for(var n=0;n<e.length;n++)s.push(n/(e.length-1))}return k(),o=e},m=function(e){return e},b=function(e,a){var i,c;if(null==a&&(a=!1),isNaN(e)||null===e)return n;if(a)c=e;else if(l&&l.length>2){var f=function(e){if(null!=l){for(var t=l.length-1,n=0;n<t&&e>=l[n];)n++;return n-1}return 0}(e);c=f/(l.length-2)}else c=u!==d?(e-d)/(u-d):1;a||(c=m(c)),1!==g&&(c=Jt(c,g)),c=r[0]+c*(1-r[0]-r[1]),c=Math.min(1,Math.max(0,c));var h=Math.floor(1e4*c);if(v&&p[h])i=p[h];else{if("array"===Xt(o))for(var b=0;b<s.length;b++){var k=s[b];if(c<=k){i=o[b];break}if(c>=k&&b===s.length-1){i=o[b];break}if(c>k&&c<s[b+1]){c=(c-k)/(s[b+1]-k),i=y.interpolate(o[b],o[b+1],c,t);break}}else"function"===Xt(o)&&(i=o(c));v&&(p[h]=i)}return i},k=function(){return p={}};h(e);var S=function(e){var t=y(b(e));return c&&t[c]?t[c]():t};return S.classes=function(e){if(null!=e){if("array"===Xt(e))l=e,i=[e[0],e[e.length-1]];else{var t=y.analyze(i);l=0===e?[t.min,t.max]:y.limits(t,"e",e)}return S}return l},S.domain=function(e){if(!arguments.length)return i;d=e[0],u=e[e.length-1],s=[];var t=o.length;if(e.length===t&&d!==u)for(var n=0,a=Array.from(e);n<a.length;n+=1){var r=a[n];s.push((r-d)/(u-d))}else for(var l=0;l<t;l++)s.push(l/(t-1));return i=[d,u],S},S.mode=function(e){return arguments.length?(t=e,k(),S):t},S.range=function(e,t){return h(e),S},S.out=function(e){return c=e,S},S.spread=function(e){return arguments.length?(a=e,S):a},S.correctLightness=function(e){return null==e&&(e=!0),f=e,k(),m=f?function(e){for(var t=b(0,!0).lab()[0],n=b(1,!0).lab()[0],a=t>n,i=b(e,!0).lab()[0],s=t+(n-t)*e,r=i-s,l=0,o=1,c=20;Math.abs(r)>.01&&c-- >0;)a&&(r*=-1),r<0?(l=e,e+=.5*(o-e)):(o=e,e+=.5*(l-e)),i=b(e,!0).lab()[0],r=i-s;return e}:function(e){return e},S},S.padding=function(e){return null!=e?("number"===Xt(e)&&(e=[e,e]),r=e,S):r},S.colors=function(t,n){arguments.length<2&&(n="hex");var a=[];if(0===arguments.length)a=o.slice(0);else if(1===t)a=[S(.5)];else if(t>1){var s=i[0],r=i[1]-s;a=function(e,t,n){for(var a=[],i=e<t,s=n?i?t+1:t-1:t,r=e;i?r<s:r>s;i?r++:r--)a.push(r);return a}(0,t,!1).map(function(e){return S(s+e/(t-1)*r)})}else{e=[];var c=[];if(l&&l.length>2)for(var d=1,u=l.length,f=1<=u;f?d<u:d>u;f?d++:d--)c.push(.5*(l[d-1]+l[d]));else c=i;a=c.map(function(e){return S(e)})}return y[n]&&(a=a.map(function(e){return e[n]()})),a},S.cache=function(e){return null!=e?(v=e,S):v},S.gamma=function(e){return null!=e?(g=e,S):g},S.nodata=function(e){return null!=e?(n=y(e),S):n},S},$t=function(e){var t,n,a,i,s,r,l;if(2===(e=e.map(function(e){return new p(e)})).length)t=e.map(function(e){return e.lab()}),s=t[0],r=t[1],i=function(e){var t=[0,1,2].map(function(t){return s[t]+e*(r[t]-s[t])});return new p(t,"lab")};else if(3===e.length)n=e.map(function(e){return e.lab()}),s=n[0],r=n[1],l=n[2],i=function(e){var t=[0,1,2].map(function(t){return(1-e)*(1-e)*s[t]+2*(1-e)*e*r[t]+e*e*l[t]});return new p(t,"lab")};else if(4===e.length){var o;a=e.map(function(e){return e.lab()}),s=a[0],r=a[1],l=a[2],o=a[3],i=function(e){var t=[0,1,2].map(function(t){return(1-e)*(1-e)*(1-e)*s[t]+3*(1-e)*(1-e)*e*r[t]+3*(1-e)*e*e*l[t]+e*e*e*o[t]});return new p(t,"lab")}}else if(5===e.length){var c=$t(e.slice(0,3)),d=$t(e.slice(2,5));i=function(e){return e<.5?c(2*e):d(2*(e-.5))}}return i},Qt=function(e,t,n){if(!Qt[n])throw new Error("unknown blend mode "+n);return Qt[n](e,t)},Zt=function(e){return function(t,n){var a=y(n).rgb(),i=y(t).rgb();return y.rgb(e(a,i))}},en=function(e){return function(t,n){var a=[];return a[0]=e(t[0],n[0]),a[1]=e(t[1],n[1]),a[2]=e(t[2],n[2]),a}};Qt.normal=Zt(en(function(e){return e})),Qt.multiply=Zt(en(function(e,t){return e*t/255})),Qt.screen=Zt(en(function(e,t){return 255*(1-(1-e/255)*(1-t/255))})),Qt.overlay=Zt(en(function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))})),Qt.darken=Zt(en(function(e,t){return e>t?t:e})),Qt.lighten=Zt(en(function(e,t){return e>t?e:t})),Qt.dodge=Zt(en(function(e,t){return 255===e?255:(e=t/255*255/(1-e/255))>255?255:e})),Qt.burn=Zt(en(function(e,t){return 255*(1-(1-t/255)/(e/255))}));for(var tn=Qt,nn=l.type,an=l.clip_rgb,sn=l.TWOPI,rn=Math.pow,ln=Math.sin,on=Math.cos,cn=Math.floor,dn=Math.random,un=Math.log,fn=Math.pow,pn=Math.floor,vn=Math.abs,yn=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===s(e)&&(e=Object.values(e)),e.forEach(function(e){t&&"object"===s(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(e,t){return gn(n,e,t)},n},gn=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==s(e)&&(e=yn(e));var a=e.min,i=e.max,r=e.values.sort(function(e,t){return e-t});if(1===n)return[a,i];var l=[];if("c"===t.substr(0,1)&&(l.push(a),l.push(i)),"e"===t.substr(0,1)){l.push(a);for(var o=1;o<n;o++)l.push(a+o/n*(i-a));l.push(i)}else if("l"===t.substr(0,1)){if(a<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*un(a),d=Math.LOG10E*un(i);l.push(a);for(var u=1;u<n;u++)l.push(fn(10,c+u/n*(d-c)));l.push(i)}else if("q"===t.substr(0,1)){l.push(a);for(var f=1;f<n;f++){var p=(r.length-1)*f/n,v=pn(p);if(v===p)l.push(r[v]);else{var y=p-v;l.push(r[v]*(1-y)+r[v+1]*y)}}l.push(i)}else if("k"===t.substr(0,1)){var g,h=r.length,m=new Array(h),b=new Array(n),k=!0,S=0,w=null;(w=[]).push(a);for(var _=1;_<n;_++)w.push(a+_/n*(i-a));for(w.push(i);k;){for(var O=0;O<n;O++)b[O]=0;for(var E=0;E<h;E++)for(var x=r[E],L=Number.MAX_VALUE,P=void 0,q=0;q<n;q++){var A=vn(w[q]-x);A<L&&(L=A,P=q),b[P]++,m[E]=P}for(var T=new Array(n),C=0;C<n;C++)T[C]=null;for(var M=0;M<h;M++)g=m[M],null===T[g]?T[g]=r[M]:T[g]+=r[M];for(var j=0;j<n;j++)T[j]*=1/b[j];k=!1;for(var N=0;N<n;N++)if(T[N]!==w[N]){k=!0;break}w=T,++S>200&&(k=!1)}for(var F={},I=0;I<n;I++)F[I]=[];for(var R=0;R<h;R++)g=m[R],F[g].push(r[R]);for(var D=[],B=0;B<n;B++)D.push(F[B][0]),D.push(F[B][F[B].length-1]);D=D.sort(function(e,t){return e-t}),l.push(D[0]);for(var G=1;G<D.length;G+=2){var z=D[G];isNaN(z)||-1!==l.indexOf(z)||l.push(z)}}return l},hn={analyze:yn,limits:gn},mn=Math.sqrt,bn=Math.atan2,kn=Math.abs,Sn=Math.cos,wn=Math.PI,_n={cool:function(){return Wt([y.hsl(180,1,.9),y.hsl(250,.7,.4)])},hot:function(){return Wt(["#000","#f00","#ff0","#fff"]).mode("rgb")}},On={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},En=0,xn=Object.keys(On);En<xn.length;En+=1){var Ln=xn[En];On[Ln.toLowerCase()]=On[Ln]}var Pn=On;return y.average=function(e,t){void 0===t&&(t="lrgb");var n=e.length;if(e=e.map(function(e){return new p(e)}),"lrgb"===t)return Kt(e);for(var a=e.shift(),i=a.get(t),s=[],r=0,l=0,o=0;o<i.length;o++)if(i[o]=i[o]||0,s.push(isNaN(i[o])?0:1),"h"===t.charAt(o)&&!isNaN(i[o])){var c=i[o]/180*Ut;r+=Ht(c),l+=Vt(c)}var d=a.alpha();e.forEach(function(e){var n=e.get(t);d+=e.alpha();for(var a=0;a<i.length;a++)if(!isNaN(n[a]))if(s[a]++,"h"===t.charAt(a)){var o=n[a]/180*Ut;r+=Ht(o),l+=Vt(o)}else i[a]+=n[a]});for(var u=0;u<i.length;u++)if("h"===t.charAt(u)){for(var f=Yt(l/s[u],r/s[u])/Ut*180;f<0;)f+=360;for(;f>=360;)f-=360;i[u]=f}else i[u]=i[u]/s[u];return d/=n,new p(i,t).alpha(d>.99999?1:d,!0)},y.bezier=function(e){var t=$t(e);return t.scale=function(){return Wt(t)},t},y.blend=tn,y.cubehelix=function(e,t,n,a,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===a&&(a=1),void 0===i&&(i=[0,1]);var s,r=0;"array"===nn(i)?s=i[1]-i[0]:(s=0,i=[i,i]);var l=function(l){var o=sn*((e+120)/360+t*l),c=rn(i[0]+s*l,a),d=0!==r?n[0]+l*r:n,u=d*c*(1-c)/2,f=on(o),p=ln(o),v=c+u*(-.14861*f+1.78277*p),g=c+u*(-.29227*f-.90649*p),h=c+u*(1.97294*f);return y(an([255*v,255*g,255*h,1]))};return l.start=function(t){return null==t?e:(e=t,l)},l.rotations=function(e){return null==e?t:(t=e,l)},l.gamma=function(e){return null==e?a:(a=e,l)},l.hue=function(e){return null==e?n:("array"===nn(n=e)?0==(r=n[1]-n[0])&&(n=n[1]):r=0,l)},l.lightness=function(e){return null==e?i:("array"===nn(e)?(i=e,s=e[1]-e[0]):(i=[e,e],s=0),l)},l.scale=function(){return y.scale(l)},l.hue(n),l},y.mix=y.interpolate=jt,y.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(cn(16*dn()));return new p(e,"hex")},y.scale=Wt,y.analyze=hn.analyze,y.contrast=function(e,t){e=new p(e),t=new p(t);var n=e.luminance(),a=t.luminance();return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)},y.deltaE=function(e,t,n,a){void 0===n&&(n=1),void 0===a&&(a=1),e=new p(e),t=new p(t);for(var i=Array.from(e.lab()),s=i[0],r=i[1],l=i[2],o=Array.from(t.lab()),c=o[0],d=o[1],u=o[2],f=mn(r*r+l*l),v=mn(d*d+u*u),y=s<16?.511:.040975*s/(1+.01765*s),g=.0638*f/(1+.0131*f)+.638,h=f<1e-6?0:180*bn(l,r)/wn;h<0;)h+=360;for(;h>=360;)h-=360;var m=h>=164&&h<=345?.56+kn(.2*Sn(wn*(h+168)/180)):.36+kn(.4*Sn(wn*(h+35)/180)),b=f*f*f*f,k=mn(b/(b+1900)),S=g*(k*m+1-k),w=f-v,_=r-d,O=l-u,E=(s-c)/(n*y),x=w/(a*g);return mn(E*E+x*x+(_*_+O*O-w*w)/(S*S))},y.distance=function(e,t,n){void 0===n&&(n="lab"),e=new p(e),t=new p(t);var a=e.get(n),i=t.get(n),s=0;for(var r in a){var l=(a[r]||0)-(i[r]||0);s+=l*l}return Math.sqrt(s)},y.limits=hn.limits,y.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(p,[null].concat(e))),!0}catch(e){return!1}},y.scales=_n,y.colors=D,y.brewer=Pn,y}()},function(e,t){e.exports='<div data-role="m-simple" class="m-stylemanager-simple-section">\n  \x3c!-- Fill options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="fill">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input data-style-options="fill.color" type="color" value="{{fill.color}}">\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input data-style-options="fill.opacity" type="number" value="{{fill.opacity}}" min="0" step="0.1" max="1">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="point">\n        <div class="style-col-1">\n          <span>Radio:</span>\n          <input data-style-options="radius" type="number" value="{{radius}}" min="1" max="60">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="line">\n        <div class="style-col-1">\n          <span>Ancho:</span>\n          <input value="{{fill.width}}" min="1" type="number" data-style-options="fill.width">\n        </div>\n      </div>\n      \x3c!-- Polygon Pattern --\x3e\n      <div class="subtitle" data-geometry="polygon">Opciones de patrón</div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1 input-reverse">\n          <span>Patrón</span>\n          <input data-apply="fill.pattern" type="checkbox" {{#if patternflag }}checked{{/if}}>\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Tipo:</span>\n          <select data-style-options="fill.pattern.name">\n            {{#each patternlist}}\n            <option value="{{#lowercase this.name}}{{/lowercase}}" {{#eq this.name this.selected}} selected {{/eq}}>\n              {{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Color:</span>\n          <input value="{{fill.pattern.color}}" type="color" data-style-options="fill.pattern.color">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Tamaño:</span>\n          <input value="{{fill.pattern.size}}" type="number" min="1" max="100" data-style-options="fill.pattern.size">\n        </div>\n\n        <div class="style-col-2">\n          <span>Espacio:</span>\n          <input value="{{fill.pattern.spacing}}" type="number" min="1" max="100"\n            data-style-options="fill.pattern.spacing">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Rotación:</span>\n          <input value="{{fill.pattern.rotation}}" type="number" data-style-options="fill.pattern.rotation">\n        </div>\n\n        <div class="style-col-2">\n          <span>Escala:</span>\n          <input value="{{fill.pattern.scale}}" type="number" min="1" max="30" data-style-options="fill.pattern.scale">\n        </div>\n      </div>\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{fill.pattern.offset}}" type="number" data-style-options="fill.pattern.offset">\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Stroke options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="stroke">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input value="{{stroke.color}}" type="color" data-style-options="stroke.color">\n        </div>\n        <div class="style-col-2">\n          <span>Ancho:</span>\n          <input value="{{stroke.width}}" type="number" value="2" min="1" data-style-options="stroke.width">\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Linedash:</span>\n          <input value="{{#get 0 stroke.linedash}}{{/get}}" type="number" data-target="stroke.linedash"\n            data-style-options="stroke.linedash">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 stroke.linedash}}{{/get}}" type="number" data-id="stroke.linedash">\n        </div>\n\n        <div class="style-col-2">\n          <span>Linedash Offset:</span>\n          <input type="number" value="{{stroke.linedashoffset}}" data-style-options="stroke.linedashoffset">\n        </div>\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Cap</span>\n          <select data-style-options="stroke.linecap">\n            <option value="">Ninguno</option>\n            {{#each linecapstroke}}\n            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Join:</span>\n          <select data-style-options="stroke.linejoin">\n            <option value="">Ninguno</option>\n            {{#each linejoinstroke}}\n            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Label options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="label">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Color</span>\n          <input value="{{label.fill.color}}" type="color" data-style-options="label.color" value="#0d5cdc">\n        </div>\n        <div class="style-col-2">\n          <span>Texto:</span>\n          <select data-style-options="label.text">\n            {{#each featuresAttr}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Fuente:</span>\n          <select data-font-family>\n            <option value="serif">Serif</option>\n            <option value="sans-serif">Sans-Serif</option>\n            <option value="mono">Mono</option>\n          </select>\n        </div>\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input data-font-size type="number" min="1" max="40" value="12">\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Alineación horizontal:</span>\n          <select data-style-options="label.align">\n            {{#each alignlist}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Alineación vertical:</span>\n          <select data-style-options="label.baseline">\n            {{#each baselinelist}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Habilitar rotación con el mapa</span>\n          <input {{#if label.rotate}}checked{{/if}} type="checkbox" data-style-options="label.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación</span>\n          <input value="{{label.rotation}}" type="number" step="0.1" data-style-options="label.rotation">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Escala:</span>\n          <input value="{{label.scale}}" type="number" max="3" min="0" step="0.1" value="2"\n            data-style-options="label.scale">\n        </div>\n\n        <div class="style-col-2">\n          <span>Offset:</span>\n          <input value="{{#get 0 label.offset}}{{/get}}" type="number" data-target="label.offset"\n            data-style-options="label.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 label.offset}}{{/get}}" type="number" data-id="label.offset">\n        </div>\n\n      </div>\n\n      \x3c!-- TextPath Options --\x3e\n\n      <div class="group-row" data-geometry="line">\n\n        <div class="style-col-1 input-reverse">\n          <span>Ajustar a geometría</span>\n          <input {{#if label.path}}checked{{/if}} type="checkbox" data-style-options="label.path">\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho Mínimo:</span>\n          <input value="{{label.minwidth}}" type="number" min="1" max="200" value="10"\n            data-style-options="label.minwidth" data-textpath {{#unless label.path}}disabled{{/unless}}>\n        </div>\n\n      </div>\n\n      <div class="group-row" data-geometry="line">\n\n        <div class="style-col-1 input-reverse">\n          <span>Suavizar</span>\n          <input {{#if label.smooth}}checked{{/if}} type="checkbox" data-style-options="label.smooth" data-textpath\n            {{#unless label.path}}disabled{{/unless}}>\n        </div>\n\n        <div class=style-col-2>\n          <span>Desbordar:</span>\n          <select data-style-options="label.textoverflow" data-textpath {{#unless label.path}}disabled{{/unless}}>\n            <option value="hidden">Oculto</option>\n            <option value="visible">Visible</option>\n            <option value="ellipsis">Puntos suspensivos</option>\n          </select>\n        </div>\n\n      </div>\n\n      \x3c!-- Stroke Label --\x3e\n      <div class="subtitle">Trazo de etiqueta:</div>\n      <div class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Trazo</span>\n          <input type="checkbox" data-apply="label.stroke" {{#neq label.stroke.color \'no-color\' }}checked{{/neq}}>\n        </div>\n\n      </div>\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input type="color" data-style-options="label.stroke.color" {{#neq label.stroke.color \'no-color\'\n            }}value="{{label.stroke.color}}" {{/neq}}>\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho:</span>\n          <input value="{{label.stroke.width}}" type="number" value="2" max="15" min="1"\n            data-style-options="label.stroke.width">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Dash:</span>\n          <input value="{{#get 0 label.stroke.linedash}}{{/get}}" type="number" data-target="label.stroke.linedash"\n            data-style-options="label.stroke.linedash" data-format="array">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 label.stroke.linedash}}{{/get}}" type="number" data-id="label.stroke.linedash">\n        </div>\n\n        <div class="style-col-2">\n          <span>Offset:</span>\n          <input type="number" value="{{label.stroke.linedashoffset}}" data-style-options="label.stroke.linedashoffset">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Cap:</span>\n          <select data-style-options="label.stroke.linecap">\n            {{#each linecaplabelstroke}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Join:</span>\n          <select data-style-options="label.stroke.linejoin">\n            {{#each linejoinlabelstroke}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  \x3c!-- Icon Options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="icon">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      \x3c!-- Point Icon --\x3e\n      <div data-pointicon class="group-row">\n        <div class="style-col-1">\n          <span>URL:</span>\n          <input value="{{icon.src}}" type="url" data-style-options="src.src">\n        </div>\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input {{#if icon.size}}value="{{#get 0 icon.size}}{{/get}}" {{/if}} type="number" min="1" data-undefined\n            data-target="size" data-style-options="src.size">\n          <span class="empty">&nbsp;</span>\n          <input {{#if icon.size}}value="{{#get 1 icon.size}}{{/get}}" {{/if}} type="number" min="1" data-undefined\n            data-id="size">\n        </div>\n      </div>\n\n      <div data-pointicon class="group-row">\n        <div class="style-col-2 input-reverse m-hidden">\n          <span>Snap to pixel</span>\n          <input {{#if icon.snaptopixel}}checked{{/if}} type="checkbox" data-style-options="src.snaptopixel">\n        </div>\n      </div>\n\n      <div data-pointicon class="group-row">\n        <div class="style-col-1">\n          <span>Anclaje:</span>\n          <input value="{{#get 0 icon.anchor}}{{/get}}" type="number" data-target="anchor"\n            data-style-options="src.anchor" step="0.1">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.anchor}}{{/get}}" type="number" data-id="anchor" step="0.1">\n        </div>\n        <div class="style-col-2">\n          <span>Escala:</span>\n          <input value="{{icon.scale}}" type="number" data-style-options="src.scale" max="3" min="0" step="0.1">\n        </div>\n      </div>\n\n      \x3c!-- Common --\x3e\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="icon-offset"\n            data-style-options="src.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="icon-offset" />\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="src.opacity">\n        </div>\n      </div>\n\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Habilitar rotación con el mapa</span>\n          <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="src.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="src.rotation">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n\n  \x3c!-- Form Options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="form">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      \x3c!-- Point Font --\x3e\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>bkColor:</span>\n          <input type="color" data-style-options="form.fill" value="{{icon.fill}}">\n        </div>\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Forma:</span>\n          <select data-style-options="form.form">\n            {{#each formlist}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Familia:</span>\n          <select data-style-options="form.class" data-icon="{{icon.class}}">\n            <option value="" selected>None</option>\n            <option value="g-cartografia">G-Cartografía</option>\n            <option value="fa">Font Awesome</option>\n          </select>\n          <button id="select-icon" class="g-cartografia-info"></button>\n          <div class="style-grid-container">\n            <div class="style-grid-item g-cartografia-alerta"></div>\n            <div class="style-grid-item g-cartografia-ayuda"></div>\n            <div class="style-grid-item g-cartografia-bandera"></div>\n            <div class="style-grid-item g-cartografia-brujula"></div>\n            <div class="style-grid-item g-cartografia-cancelar"></div>\n            <div class="style-grid-item g-cartografia-cancelar2"></div>\n            <div class="style-grid-item g-cartografia-capas"></div>\n            <div class="style-grid-item g-cartografia-capas2"></div>\n            <div class="style-grid-item g-cartografia-check"></div>\n            <div class="style-grid-item g-cartografia-check2"></div>\n            <div class="style-grid-item g-cartografia-check3"></div>\n            <div class="style-grid-item g-cartografia-check4"></div>\n            <div class="style-grid-item g-cartografia-check5"></div>\n            <div class="style-grid-item g-cartografia-comentarios"></div>\n            <div class="style-grid-item g-cartografia-descargar"></div>\n            <div class="style-grid-item g-cartografia-editar"></div>\n            <div class="style-grid-item g-cartografia-editar2"></div>\n            <div class="style-grid-item g-cartografia-escala"></div>\n            <div class="style-grid-item g-cartografia-escala2"></div>\n            <div class="style-grid-item g-cartografia-escala3"></div>\n            <div class="style-grid-item g-cartografia-flecha"></div>\n            <div class="style-grid-item g-cartografia-flecha-abajo"></div>\n            <div class="style-grid-item g-cartografia-flecha-abajo2"></div>\n            <div class="style-grid-item g-cartografia-flecha-arriba"></div>\n            <div class="style-grid-item g-cartografia-flecha-arriba2"></div>\n            <div class="style-grid-item g-cartografia-flecha-derecha"></div>\n            <div class="style-grid-item g-cartografia-flecha-derecha2"></div>\n            <div class="style-grid-item g-cartografia-flecha-derecha3"></div>\n            <div class="style-grid-item g-cartografia-flecha-deshacer"></div>\n            <div class="style-grid-item g-cartografia-flecha-izquierda"></div>\n            <div class="style-grid-item g-cartografia-flecha-izquierda2"></div>\n            <div class="style-grid-item g-cartografia-flecha-izquierda3"></div>\n            <div class="style-grid-item g-cartografia-flecha-link"></div>\n            <div class="style-grid-item g-cartografia-flechas-mover"></div>\n            <div class="style-grid-item g-cartografia-gps"></div>\n            <div class="style-grid-item g-cartografia-gps2"></div>\n            <div class="style-grid-item g-cartografia-gps3"></div>\n            <div class="style-grid-item g-cartografia-gps4"></div>\n            <div class="style-grid-item g-cartografia-guardar"></div>\n            <div class="style-grid-item g-cartografia-herramienta"></div>\n            <div class="style-grid-item g-cartografia-impresora"></div>\n            <div class="style-grid-item g-cartografia-info"></div>\n            <div class="style-grid-item g-cartografia-linea"></div>\n            <div class="style-grid-item g-cartografia-lineas"></div>\n            <div class="style-grid-item g-cartografia-lista"></div>\n            <div class="style-grid-item g-cartografia-localizacion"></div>\n            <div class="style-grid-item g-cartografia-localizacion2"></div>\n            <div class="style-grid-item g-cartografia-localizacion3"></div>\n            <div class="style-grid-item g-cartografia-localizacion4"></div>\n            <div class="style-grid-item g-cartografia-mano"></div>\n            <div class="style-grid-item g-cartografia-mano2"></div>\n            <div class="style-grid-item g-cartografia-mapa"></div>\n            <div class="style-grid-item g-cartografia-mas"></div>\n            <div class="style-grid-item g-cartografia-mas2"></div>\n            <div class="style-grid-item g-cartografia-medir-area"></div>\n            <div class="style-grid-item g-cartografia-medir-linea"></div>\n            <div class="style-grid-item g-cartografia-menos"></div>\n            <div class="style-grid-item g-cartografia-menos2"></div>\n            <div class="style-grid-item g-cartografia-menu"></div>\n            <div class="style-grid-item g-cartografia-mundo"></div>\n            <div class="style-grid-item g-cartografia-mundo2"></div>\n            <div class="style-grid-item g-cartografia-opciones"></div>\n            <div class="style-grid-item g-cartografia-papelera"></div>\n            <div class="style-grid-item g-cartografia-pin"></div>\n            <div class="style-grid-item g-cartografia-pin-nuevo"></div>\n            <div class="style-grid-item g-cartografia-pin2"></div>\n            <div class="style-grid-item g-cartografia-pin3"></div>\n            <div class="style-grid-item g-cartografia-pin4"></div>\n            <div class="style-grid-item g-cartografia-poligono"></div>\n            <div class="style-grid-item g-cartografia-posicion"></div>\n            <div class="style-grid-item g-cartografia-posicion2"></div>\n            <div class="style-grid-item g-cartografia-posicion3"></div>\n            <div class="style-grid-item g-cartografia-posicion4"></div>\n            <div class="style-grid-item g-cartografia-posicion5"></div>\n            <div class="style-grid-item g-cartografia-posicion6"></div>\n            <div class="style-grid-item g-cartografia-posicion7"></div>\n            <div class="style-grid-item g-cartografia-prismaticos"></div>\n            <div class="style-grid-item g-cartografia-regla"></div>\n            <div class="style-grid-item g-cartografia-reglas"></div>\n            <div class="style-grid-item g-cartografia-ruta"></div>\n            <div class="style-grid-item g-cartografia-spinner"></div>\n            <div class="style-grid-item g-cartografia-subir"></div>\n            <div class="style-grid-item g-cartografia-tamano"></div>\n            <div class="style-grid-item g-cartografia-temperatura"></div>\n            <div class="style-grid-item g-cartografia-texto"></div>\n            <div class="style-grid-item g-cartografia-usuario"></div>\n            <div class="style-grid-item g-cartografia-usuario2"></div>\n            <div class="style-grid-item g-cartografia-zoom"></div>\n            <div class="style-grid-item g-cartografia-zoom-extension"></div>\n            <div class="style-grid-item g-cartografia-zoom-mas"></div>\n            <div class="style-grid-item g-cartografia-zoom-menos"></div>\n            <div class="style-grid-item g-cartografia-pin5"></div>\n            <div class="style-grid-item g-cartografia-pin-nuevo2"></div>\n            <div class="style-grid-item g-cartografia-pin-seleccionado"></div>\n            <div class="style-grid-item g-cartografia-brujula-norte"></div>\n            <div class="style-grid-item fa fa-glass"></div>\n            <div class="style-grid-item fa fa-music"></div>\n            <div class="style-grid-item fa fa-search"></div>\n            <div class="style-grid-item fa fa-envelope-o"></div>\n            <div class="style-grid-item fa fa-heart"></div>\n            <div class="style-grid-item fa fa-star"></div>\n            <div class="style-grid-item fa fa-star-o"></div>\n            <div class="style-grid-item fa fa-user"></div>\n            <div class="style-grid-item fa fa-film"></div>\n            <div class="style-grid-item fa fa-th-large"></div>\n            <div class="style-grid-item fa fa-th"></div>\n            <div class="style-grid-item fa fa-th-list"></div>\n            <div class="style-grid-item fa fa-check"></div>\n            <div class="style-grid-item fa fa-remove"></div>\n            <div class="style-grid-item fa fa-close"></div>\n            <div class="style-grid-item fa fa-times"></div>\n            <div class="style-grid-item fa fa-search-plus"></div>\n            <div class="style-grid-item fa fa-search-minus"></div>\n            <div class="style-grid-item fa fa-power-off"></div>\n            <div class="style-grid-item fa fa-signal"></div>\n            <div class="style-grid-item fa fa-gear"></div>\n            <div class="style-grid-item fa fa-cog"></div>\n            <div class="style-grid-item fa fa-trash-o"></div>\n            <div class="style-grid-item fa fa-home"></div>\n            <div class="style-grid-item fa fa-file-o"></div>\n            <div class="style-grid-item fa fa-clock-o"></div>\n            <div class="style-grid-item fa fa-road"></div>\n            <div class="style-grid-item fa fa-download"></div>\n            <div class="style-grid-item fa fa-arrow-circle-o-down"></div>\n            <div class="style-grid-item fa fa-arrow-circle-o-up"></div>\n            <div class="style-grid-item fa fa-inbox"></div>\n            <div class="style-grid-item fa fa-play-circle-o"></div>\n            <div class="style-grid-item fa fa-rotate-right"></div>\n            <div class="style-grid-item fa fa-repeat"></div>\n            <div class="style-grid-item fa fa-refresh"></div>\n            <div class="style-grid-item fa fa-list-alt"></div>\n            <div class="style-grid-item fa fa-lock"></div>\n            <div class="style-grid-item fa fa-flag"></div>\n            <div class="style-grid-item fa fa-headphones"></div>\n            <div class="style-grid-item fa fa-volume-off"></div>\n            <div class="style-grid-item fa fa-volume-down"></div>\n            <div class="style-grid-item fa fa-volume-up"></div>\n            <div class="style-grid-item fa fa-qrcode"></div>\n            <div class="style-grid-item fa fa-barcode"></div>\n            <div class="style-grid-item fa fa-tag"></div>\n            <div class="style-grid-item fa fa-tags"></div>\n            <div class="style-grid-item fa fa-book"></div>\n            <div class="style-grid-item fa fa-bookmark"></div>\n            <div class="style-grid-item fa fa-print"></div>\n            <div class="style-grid-item fa fa-camera"></div>\n            <div class="style-grid-item fa fa-font"></div>\n            <div class="style-grid-item fa fa-bold"></div>\n            <div class="style-grid-item fa fa-italic"></div>\n            <div class="style-grid-item fa fa-text-height"></div>\n            <div class="style-grid-item fa fa-text-width"></div>\n            <div class="style-grid-item fa fa-align-left"></div>\n            <div class="style-grid-item fa fa-align-center"></div>\n            <div class="style-grid-item fa fa-align-right"></div>\n            <div class="style-grid-item fa fa-align-justify"></div>\n            <div class="style-grid-item fa fa-list"></div>\n            <div class="style-grid-item fa fa-dedent"></div>\n            <div class="style-grid-item fa fa-outdent"></div>\n            <div class="style-grid-item fa fa-indent"></div>\n            <div class="style-grid-item fa fa-video-camera"></div>\n            <div class="style-grid-item fa fa-photo"></div>\n            <div class="style-grid-item fa fa-image"></div>\n            <div class="style-grid-item fa fa-picture-o"></div>\n            <div class="style-grid-item fa fa-pencil"></div>\n            <div class="style-grid-item fa fa-map-marker"></div>\n            <div class="style-grid-item fa fa-adjust"></div>\n            <div class="style-grid-item fa fa-tint"></div>\n            <div class="style-grid-item fa fa-edit"></div>\n            <div class="style-grid-item fa fa-pencil-square-o"></div>\n            <div class="style-grid-item fa fa-share-square-o"></div>\n            <div class="style-grid-item fa fa-check-square-o"></div>\n            <div class="style-grid-item fa fa-arrows"></div>\n            <div class="style-grid-item fa fa-step-backward"></div>\n            <div class="style-grid-item fa fa-fast-backward"></div>\n            <div class="style-grid-item fa fa-backward"></div>\n            <div class="style-grid-item fa fa-play"></div>\n            <div class="style-grid-item fa fa-pause"></div>\n            <div class="style-grid-item fa fa-stop"></div>\n            <div class="style-grid-item fa fa-forward"></div>\n            <div class="style-grid-item fa fa-fast-forward"></div>\n            <div class="style-grid-item fa fa-step-forward"></div>\n            <div class="style-grid-item fa fa-eject"></div>\n            <div class="style-grid-item fa fa-chevron-left"></div>\n            <div class="style-grid-item fa fa-chevron-right"></div>\n            <div class="style-grid-item fa fa-plus-circle"></div>\n            <div class="style-grid-item fa fa-minus-circle"></div>\n            <div class="style-grid-item fa fa-times-circle"></div>\n            <div class="style-grid-item fa fa-check-circle"></div>\n            <div class="style-grid-item fa fa-question-circle"></div>\n            <div class="style-grid-item fa fa-info-circle"></div>\n            <div class="style-grid-item fa fa-crosshairs"></div>\n            <div class="style-grid-item fa fa-times-circle-o"></div>\n            <div class="style-grid-item fa fa-check-circle-o"></div>\n            <div class="style-grid-item fa fa-ban"></div>\n            <div class="style-grid-item fa fa-arrow-left"></div>\n            <div class="style-grid-item fa fa-arrow-right"></div>\n            <div class="style-grid-item fa fa-arrow-up"></div>\n            <div class="style-grid-item fa fa-arrow-down"></div>\n            <div class="style-grid-item fa fa-mail-forward"></div>\n            <div class="style-grid-item fa fa-share"></div>\n            <div class="style-grid-item fa fa-expand"></div>\n            <div class="style-grid-item fa fa-compress"></div>\n            <div class="style-grid-item fa fa-plus"></div>\n            <div class="style-grid-item fa fa-minus"></div>\n            <div class="style-grid-item fa fa-asterisk"></div>\n            <div class="style-grid-item fa fa-exclamation-circle"></div>\n            <div class="style-grid-item fa fa-gift"></div>\n            <div class="style-grid-item fa fa-leaf"></div>\n            <div class="style-grid-item fa fa-fire"></div>\n            <div class="style-grid-item fa fa-eye"></div>\n            <div class="style-grid-item fa fa-eye-slash"></div>\n            <div class="style-grid-item fa fa-warning"></div>\n            <div class="style-grid-item fa fa-exclamation-triangle"></div>\n            <div class="style-grid-item fa fa-plane"></div>\n            <div class="style-grid-item fa fa-calendar"></div>\n            <div class="style-grid-item fa fa-random"></div>\n            <div class="style-grid-item fa fa-comment"></div>\n            <div class="style-grid-item fa fa-magnet"></div>\n            <div class="style-grid-item fa fa-chevron-up"></div>\n            <div class="style-grid-item fa fa-chevron-down"></div>\n            <div class="style-grid-item fa fa-retweet"></div>\n            <div class="style-grid-item fa fa-shopping-cart"></div>\n            <div class="style-grid-item fa fa-folder"></div>\n            <div class="style-grid-item fa fa-folder-open"></div>\n            <div class="style-grid-item fa fa-arrows-v"></div>\n            <div class="style-grid-item fa fa-arrows-h"></div>\n            <div class="style-grid-item fa fa-bar-t-o"></div>\n            <div class="style-grid-item fa fa-bar-t"></div>\n            <div class="style-grid-item fa fa-twitter-square"></div>\n            <div class="style-grid-item fa fa-facebook-square"></div>\n            <div class="style-grid-item fa fa-camera-retro"></div>\n            <div class="style-grid-item fa fa-key"></div>\n            <div class="style-grid-item fa fa-gears"></div>\n            <div class="style-grid-item fa fa-cogs"></div>\n            <div class="style-grid-item fa fa-comments"></div>\n          </div>\n        </div>\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Radio:</span>\n          <input type="number" min="1" max="100" value="20" data-style-options="form.radius" value="{{icon.radius}}">\n        </div>\n\n        <div class="style-col-2">\n          <span>Tamaño icono:</span>\n          <input type="number" step="0.1" min=0 max=100 data-style-options="form.fontsize" value="{{icon.fontsize}}">\n        </div>\n\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Gradiente</span>\n          <input type="checkbox" data-style-options="form.gradient" {{#if icon.gradient}}checked{{/if}}>\n        </div>\n\n        <div class="style-col-2">\n          <span>Color de icono:</span>\n          <input type="color" data-style-options="form.color" value="{{icon.color}}">\n        </div>\n      </div>\n\n      \x3c!-- Common --\x3e\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="form-offset"\n            data-style-options="form.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="form-offset" />\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="form.opacity">\n        </div>\n      </div>\n\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Habilitar rotación con el mapa</span>\n          <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="form.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="form.rotation">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n\n</div>'},function(e,t){e.exports='<div>\n  {{#each attributes}}\n  <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n  {{/each}}\n</div>\n'},function(e,t){e.exports='<div class="">\n  <table class="m-table-category">\n    <tr>\n      <th>Valor de atributo</th>\n      <th>Previsualización</th>\n    </tr>\n    {{#each values}}\n    <tr>\n      <td id="{{this.name}}">{{this.name}}</td>\n      <td><img id="img-{{this.name}}" src="xxxHTMLLINKxxx0.30858044455981170.20615833796869776xxx" alt=""></td>\n    </tr>\n    {{/each}} {{#if attributeExists}}\n    <tr>\n      <td id="other">Otros</td>\n      <td><img id="img-other" src="xxxHTMLLINKxxx0.6917496583879630.5836323833257642xxx" alt=""></td>\n    </tr>\n    {{/if}}\n  </table>\n</div>\n'},function(e,t){e.exports='<div class="m-stylemanager-control styles-panel">\n  <div class="m-stylemanager-container-select">\n    <ul>\n      <li class="group">\n        <div class="m-stylemanager-buttons-wrap">\n          <select class="" id="m-stylemanager-select">\n            <option disabled="disabled" selected="selected">Seleccione una capa...</option>\n          {{#each layers}}\n               <option name={{this.name}}>{{this.name}}</option>\n          {{/each}}\n          </select>\n          <button title="Aplicar estilo" class="m-button-styles" data-apply-style><i class="gi-1x g-sigc-apply"></i></button>\n          <button title="Limpiar estilo" class="m-button-styles" data-clear-style><i class="gi-1x g-sigc-reset"></i></button>\n        </div>\n      </li>\n    </ul>\n\n    <div class="m-boxes m-hidden m-boxes-botonera" data-role="botonera">\n      <input data-checkbox="stylesimple" type="checkbox" class="m-input" id="box-4">\n      <label data-flap="stylesimple" for="box-4" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-simple"></i> Simple</label>\n\n      \x3c!-- submenu --\x3e\n      <div data-buttons-option class="m-submenu-simple">\n      </div>\n\n      \x3c!-- fin submenu --\x3e\n\n      <input data-checkbox="stylecluster" type="checkbox" class="m-input" id="box-1">\n      <label data-flap="stylecluster" for="box-1" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-cluster"></i> Cluster</label>\n\n      <input data-checkbox="styleheatmap" type="checkbox" class="m-input" id="box-2">\n      <label data-flap="styleheatmap" for="box-2" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-heatmap"></i> Mapa de calor</label>\n\n      <input data-checkbox="stylecategory" type="checkbox" class="m-input" id="box-3">\n      <label data-flap="stylecategory" for="box-3" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-category"></i>Categoría</label>\n\n      <div data-buttons-option-category class="m-hidden m-submenu-simple">\n      </div>\n\n      <input data-checkbox="stylechoropleth" type="checkbox" class="m-input" id="box-5">\n      <label data-flap="stylechoropleth" for="box-5" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-choro"></i>Coropletas</label>\n\n      <input data-checkbox="styleproportional" type="checkbox" class="m-input" id="box-6">\n      <label data-flap="styleproportional" for="box-6" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-proportional"></i> Proporcional</label>\n\n      <input data-checkbox="stylechart" type="checkbox" class="m-input" id="box-7">\n      <label data-flap="stylechart" for="box-7" class="check-selected check-inactive"></label>\n      <label><i class="gi-1x g-sigc-chart"></i>Estadísticos</label>\n    </div>\n\n\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-proportional" class="m-stylemanager-simple-section m-proportional m-hidden">\n  <div class="styles-row">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Atributos:</span>\n          <select data-options="attributeName">\n        {{#each attributes}}\n          <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n        {{/each}}\n      </select>\n        </div>\n      </div>\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Radio mínimo:</span>\n          <input type="number" min="1" data-options="minRadius" value="{{this.minRadius}}">\n        </div>\n        <div class="style-col-2">\n          <span for="">Radio máximo:</span>\n          <input type="number" min="1" data-options="maxRadius" value="{{this.maxRadius}}">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-cluster" class="m-stylemanager-simple-section m-hidden">\n  \x3c!-- Ranges Options --\x3e\n  <div class="styles-row" data-id="ranges">\n    <div class="title">Rangos</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Número de rangos:</span>\n          <input type="number" data-number-ranges value="{{ranges.length}}" min="1" max="12">\n        </div>\n      </div>\n      <div data-parent="ranges">\n        {{#each ranges}}\n        <div {{#neq @index 0}} class="m-hidden" {{/neq}} data-page="{{#sum @index 1}}{{/sum}}">\n          <div class="subtitle">Rango {{#sum @index 1}}{{/sum}}</div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Desde:</span>\n              <input data-apply-range type="number" min="0" data-ranges-options="minRange" data-ranges-id="{{#sum @index 1}}{{/sum}}" value="{{min}}">\n            </div>\n            <div class="style-col-2">\n              <span>Hasta:</span>\n              <input data-apply-range type="number" min="0" data-ranges-options="maxRange" data-ranges-id="{{#sum @index 1}}{{/sum}}" value="{{max}}">\n            </div>\n          </div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Relleno:</span>\n              <input data-apply-range value="{{fill}}" type="color" data-ranges-options="style.fill.color" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n            <div class="style-col-2">\n              <span>Opacidad:</span>\n              <input data-apply-range value="{{opacity}}" min="0" step="0.1" type="number" data-ranges-options="style.fill.opacity" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n          </div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Borde:</span>\n              <input data-apply-range type="color" value="{{stroke}}" data-ranges-options="style.stroke.color" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n            <div class="style-col-2">\n              <span>Ancho:</span>\n              <input data-apply-range value="{{width}}" type="number" min="1" data-ranges-options="style.stroke.width" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n          </div>\n\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Radio:</span>\n              <input data-apply-range value="{{#if radius}}{{radius}}{{/if}}{{#unless radius}}10{{/unless}}" type="number" min="1" data-ranges-options="style.radius" data-ranges-id="{{#sum @index 1}}{{/sum}}">\n            </div>\n          </div>\n        </div>\n        {{/each}} {{#pages}}\n        <div class="m-hidden" data-page="{{id}}">\n          <div class="subtitle">Rango {{id}}</div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Desde:</span>\n              <input value="{{min}}" type="number" min="0" data-ranges-options="minRange" data-ranges-id="{{id}}">\n            </div>\n            <div class="style-col-2">\n              <span>Hasta:</span>\n              <input value="{{max}}" type="number" min="0" data-ranges-options="maxRange" data-ranges-id="{{id}}">\n            </div>\n          </div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Relleno:</span>\n              <input type="color" value="{{fill}}" data-ranges-options="style.fill.color" data-ranges-id="{{id}}">\n            </div>\n            <div class="style-col-2">\n              <span>Opacidad:</span>\n              <input value="1" step="0.1" type="number" min="0" data-ranges-options="style.fill.opacity" data-ranges-id="{{id}}">\n            </div>\n          </div>\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Borde:</span>\n              <input type="color" value="{{stroke}}" data-ranges-options="style.stroke.color" data-ranges-id="{{id}}">\n            </div>\n            <div class="style-col-2">\n              <span>Ancho:</span>\n              <input value="2" type="number" min="1" data-ranges-options="style.stroke.width" data-ranges-id="{{id}}">\n            </div>\n          </div>\n\n          <div class="group-row">\n            <div class="style-col-1">\n              <span>Radio:</span>\n              <input value="10" type="number" min="1" data-ranges-options="style.radius" data-ranges-id="{{id}}">\n            </div>\n          </div>\n        </div>\n        {{/pages}}\n      </div>\n\n      <div class="m-pagination" data-parent-pagination>\n        <ul>\n          {{#each ranges}}\n          <li data-page-selector="{{#sum @index 1}}{{/sum}}" {{#eq @index 0}} data-page-active class="m-page-active" {{/eq}}>{{#sum @index 1}}{{/sum}}</li>\n          {{/each}} {{#each pages}}\n          <li data-page-selector="{{id}}" class="m-hidden">{{id}}</li>\n          {{/each}}\n\n        </ul>\n      </div>\n\n    </div>\n  </div>\n  \x3c!-- Vendor Options --\x3e\n  <div class="styles-row" data-id="options">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n        <div class="style-col-1 input-reverse">\n          <span>Envoltura</span>\n          <input type="checkbox" data-style-options="hoveInteraction" {{#if hoverInteraction}}checked{{/if}}>\n        </div>\n        <div class="style-col-2 input-reverse">\n          <span>Cantidad</span>\n          <input type="checkbox" data-style-options="displayAmount" {{#if displayAmount}}checked{{/if}}>\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1 input-reverse">\n          <span>Seleccionable</span>\n          <input type="checkbox" data-style-options="selectInteraction" {{#if selectInteraction}}checked{{/if}}>\n        </div>\n        <div class="style-col-2 input-reverse">\n          <span>Animado</span>\n          <input type="checkbox" data-style-options="animated" {{#if animated}}checked{{/if}}>\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Distancia:</span>\n          <input type="number" min="1" data-style-options="distance" value="{{distance}}">\n        </div>\n        <div class="style-col-2">\n          <span>Puntos:</span>\n          <input type="number" min="1" data-style-options="maxFeaturesToSelect" value="{{maxFeaturesToSelect}}">\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Distancia de abanico:</span>\n          <input type="number" min="1" data-style-options="distanceSelectFeatures" value="{{distanceSelectFeatures}}">\n        </div>\n        <div class="style-col-2">\n          <span>Color de texto:</span>\n          <input type="color" data-style-options="label.color" value="{{label.color}}">\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>'},function(e,t){e.exports='<div data-role="m-choropleth" class="m-stylemanager-simple-section m-hidden m-choropleth">\n  <div class="styles-row">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Atributos:</span>\n          <select data-options="attributeName">\n            {{#each attributes}}\n            <option value="{{this.name}}" {{#eq this.name this.selected}} selected {{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n      </div>\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Algoritmo:</span>\n          <select data-options="quantification">\n            <option value="JENKS" {{#eq quantification "jenks"}}selected{{/eq}}>Jenks</option>\n            <option value="QUANTILE" {{#eq quantification "quantile"}}selected{{/eq}}>Quantile</option>\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Rangos:</span>\n          <input type="number" min="2" data-number-ranges data-options="ranges" value="{{ranges}}">\n        </div>\n      </div>\n      <div class="subtitle">Rampa de color</div>\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Inicial:</span>\n          <input type="color" data-array-options="colors" value="{{startColor}}">\n        </div>\n        <div class="style-col-2">\n          <span>Final:</span>\n          <input type="color" data-array-options="colors" value="{{endColor}}">\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-category" class="m-stylemanager-simple-section m-category m-hidden">\n  <div class="styles-row">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Atributo:</span>\n          <select data-options="attributeName">\n          {{#each attributes}}\n            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n          {{/each}}\n        </select>\n        </div>\n      </div>\n\n      <div class="container-table" data-options="values">\n\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-heatmap" class="m-stylemanager-simple-section m-hidden m-heatmap">\n  <div class="styles-row">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Atributo:</span>\n          <select data-options="attributeName">\n        {{#each attributes}}\n          <option value="{{this.name}}"{{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n        {{/each}}\n      </select>\n        </div>\n      </div>\n      <div class="group-row">\n        <div class="style-col-1" >\n          <span>Gradiente:</span>\n          <div class="m-grid" data-parent="gradient">\n          {{#each gradient}}\n          <div class="m-removable-input-color">\n            <input type="color" data-array-options="gradient" value="{{this}}">\n            <span class="m-close"></span>\n          </div>\n          {{/each}}\n        </div>\n        </div>\n        <div class="style-col-2">\n          <span></span>\n          <button data-add class="m-add-gradient m-button-styles">Añadir color</button>\n        </div>\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span for="">Difuminado:</span>\n          <input type="number" data-style-options="blur" min="1" value="{{blur}}">\n        </div>\n\n        <div class="style-col-2">\n          <span for="">Radio:</span>\n          <input type="number" data-style-options="radius" min="1" value="{{radius}}">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div data-role="m-chart" class="m-stylemanager-simple-section m-chart m-hidden">\n  <div class="styles-row m-stylechart">\n    <div class="title">Opciones</div>\n\n    <div class="group-row">\n      <div class="style-col-1">\n        <span>Tipo:</span>\n        <select data-style-options="type">\n          <option value="pie" {{#eq type "pie"}}selected {{/eq}}>Tarta</option>\n          <option value="pie3D" {{#eq type "pie3D"}}selected {{/eq}}>Tarta 3D</option>\n          <option value="donut" {{#eq type "donut"}}selected {{/eq}}>Donut</option>\n          <option value="bar" {{#eq type "bar"}}selected {{/eq}}>Gráfico</option>\n        </select>\n      </div>\n\n      <div class="style-col-2">\n        <span>Color:</span>\n        <select data-style-options="scheme">\n          <option value="Classic" {{#eq scheme "Classic"}}selected {{/eq}}>Clásico</option>\n          <option value="Dark" {{#eq scheme "Dark"}}selected {{/eq}}>Oscuro</option>\n          <option value="Pale" {{#eq scheme "Pale"}}selected {{/eq}}>Pálido</option>\n          <option value="Pastel" {{#eq scheme "Pastel"}}selected {{/eq}}>Neón</option>\n          <option value="Neon" {{#eq scheme "Neon"}}selected {{/eq}}>Pastel</option>\n        </select>\n      </div>\n    </div>\n\n    <div class="group-row">\n      <div class="style-col-1">\n        <span>Eje X:</span>\n        <input type="number" value="{{offsetX}}" data-style-options="offsetX">\n      </div>\n\n      <div class="style-col-2">\n        <span>Eje Y:</span>\n        <input type="number" value="{{offsetY}}" data-style-options="offsetY">\n      </div>\n    </div>\n\n    <div class="group-row">\n      <div class="style-col-1 {{#eq type \'bar\'}}m-hidden{{/eq}}" data-type="donut,pie,pie3D">\n        <span>Radio:</span>\n        <input type="number" min="1" value="{{radius}}" data-style-options="radius">\n      </div>\n\n      <div class="style-col-2 {{#neq type \'donut\'}}m-hidden{{/neq}}" data-type="donut">\n        <span>Radio de donut:</span>\n        <input type="number" min="0" value="6" data-style-options="donutRadio">\n      </div>\n    </div>\n\n    <div class="group-row">\n      <div class="style-col-1 {{#neq type \'pie3D\'}}m-hidden{{/neq}}" data-type="pie3D">\n        <span>Color 3D:</span>\n        <input type="color" value="#ff00f0" data-style-options="fill3DColor">\n      </div>\n    </div>\n\n  </div>\n  <div class="styles-row m-stylechart">\n    <div class="title">Atributos</div>\n    <div class="group-row">\n\n      <div class="style-col-1">\n        <span>Atributo:</span>\n        <select data-attribute>\n\n        </select>\n      </div>\n\n      <div class="style-col-2">\n        <span></span>\n        <button data-add class="m-add-gradient m-button-styles">Añadir atributo</button>\n      </div>\n    </div>\n    <div class="m-chart-variables" data-variables>\n    </div>\n\n    <div class="m-pagination" data-pagination>\n    </div>\n\n  </div>\n</div>\n'},function(e,t){e.exports='<div>\n  {{#each buttonsParams}}\n  <input data-apply="{{id}}" type="checkbox" class="m-input" id="{{id}}">\n  <label data-selector="{{id}}" for="{{id}}" class="submenu-check check-selected"></label>\n  <label data-label="{{id}}" class="submenu-label">{{name}}</label>\n  {{/each}}\n</div>\n'},function(e,t){e.exports='<div>\n  {{#each buttonsParams}}\n  <input data-apply="{{id}}" type="checkbox" class="m-input" id="cat-{{id}}">\n  <label data-selector="{{id}}" for="cat-{{id}}" class="submenu-check check-selected"></label>\n  <label data-label="{{id}}" class="submenu-label">{{name}}</label> {{/each}}\n</div>\n'},function(e,t){e.exports='<div data-category-section>\n  <div class="styles-row m-hidden m-simple-category" data-id="fill">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input data-style-options="fill.color" type="color" value="{{fill.color}}">\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input data-style-options="fill.opacity" type="number" value="{{fill.opacity}}" min="0" step="0.1" max="1">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="point">\n        <div class="style-col-1">\n          <span>Radio:</span>\n          <input data-style-options="radius" type="number" value="{{radius}}" min="1" max="60">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="line">\n        <div class="style-col-1">\n          <span>Ancho:</span>\n          <input value="{{fill.width}}" type="number" data-style-options="fill.width">\n        </div>\n      </div>\n      \x3c!-- Polygon Pattern --\x3e\n      <div class="subtitle" data-geometry="polygon">Opciones de patrón</div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1 input-reverse">\n          <span>Patrón</span>\n          <input data-apply="fill.pattern" type="checkbox" {{#if patternflag }}checked{{/if}}>\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Tipo:</span>\n          <select data-style-options="fill.pattern.name">\n            {{#each patternlist}}\n            <option value="{{#lowercase this.name}}{{/lowercase}}" {{#eq this.name this.selected}} selected {{/eq}}>\n              {{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Color:</span>\n          <input value="{{fill.pattern.color}}" type="color" data-style-options="fill.pattern.color">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Tamaño:</span>\n          <input value="{{fill.pattern.size}}" type="number" min="1" max="100" data-style-options="fill.pattern.size">\n        </div>\n\n        <div class="style-col-2">\n          <span>Espacio:</span>\n          <input value="{{fill.pattern.spacing}}" type="number" min="1" max="100"\n            data-style-options="fill.pattern.spacing">\n        </div>\n      </div>\n\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Rotación:</span>\n          <input value="{{fill.pattern.rotation}}" type="number" min="0" max="360" step="1"\n            data-style-options="fill.pattern.rotation">\n        </div>\n\n        <div class="style-col-2">\n          <span>Escala:</span>\n          <input value="{{fill.pattern.scale}}" type="number" min="1" max="30" data-style-options="fill.pattern.scale">\n        </div>\n      </div>\n      <div class="group-row" data-geometry="polygon">\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{fill.pattern.offset}}" type="number" min="1" data-style-options="fill.pattern.offset">\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Stroke options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="stroke">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input value="{{stroke.color}}" type="color" data-style-options="stroke.color">\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho:</span>\n          <input value="{{stroke.width}}" type="number" value="2" min="1" data-style-options="stroke.width">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n        <div class="style-col-1">\n          <span>Linedash:</span>\n          <input value="{{#get 0 stroke.linedash}}{{/get}}" type="number" data-target="stroke.linedash"\n            data-style-options="stroke.linedash">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 stroke.linedash}}{{/get}}" type="number" data-id="stroke.linedash">\n        </div>\n\n        <div class="style-col-2">\n          <span>Linedash Offset:</span>\n          <input type="number" value="{{stroke.linedashoffset}}" data-style-options="stroke.linedashoffset">\n        </div>\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Cap</span>\n          <select data-style-options="stroke.linecap">\n            <option value="">Ninguno</option>\n            {{#each linecapstroke}}\n            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Join</span>\n          <select data-style-options="stroke.linejoin">\n            <option value="">Ninguno</option>\n            {{#each linejoinstroke}}\n            <option value="{{this.name}}" {{#eq this.name this.selected}}selected{{/eq}}> {{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Label options --\x3e\n  <div class="styles-row m-hidden m-simple-category m-label-option" data-id="label">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Color</span>\n          <input value="{{label.fill.color}}" type="color" data-style-options="label.color" value="#0d5cdc">\n        </div>\n\n        <div class="style-col-2">\n          <span>Texto:</span>\n          <select data-style-options="label.text">\n            {{#each featuresAttr}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Fuente:</span>\n          <select data-font-family>\n            <option value="serif">Serif</option>\n            <option value="sans-serif">Sans-Serif</option>\n            <option value="mono">Mono</option>\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input data-font-size type="number" min="1" value="12">\n        </div>\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Alineación horizontal:</span>\n          <select data-style-options="label.align">\n            {{#each alignlist}}\n            <option value="{{this.name}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Alineación vertical:</span>\n          <select data-style-options="label.baseline">\n            {{#each baselinelist}}\n            <option value="{{this.name}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Habilitar rotación con el mapa</span>\n          <input {{#if label.rotate}}checked{{/if}} type="checkbox" data-style-options="label.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{label.rotation}}" type="number" step="0.1" data-style-options="label.rotation">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Escala:</span>\n          <input value="{{label.scale}}" type="number" max="3" min="0" step="0.1" value="2"\n            data-style-options="label.scale">\n        </div>\n\n        <div class="style-col-2">\n          <span>Offset:</span>\n          <input value="{{#get 0 label.offset}}{{/get}}" type="number" data-target="label.offset"\n            data-style-options="label.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 label.offset}}{{/get}}" type="number" data-id="label.offset">\n        </div>\n\n      </div>\n\n      \x3c!-- TextPath Options --\x3e\n\n      <div class="group-row" data-geometry="line">\n\n        <div class="style-col-1 input-reverse">\n          <span>Ajustar</span>\n          <input {{#if label.path}}checked{{/if}} type="checkbox" data-style-options="label.path">\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho Mínimo:</span>\n          <input value="{{label.minwidth}}" type="number" min="1" max="200" value="10"\n            data-style-options="label.minwidth" data-textpath {{#unless label.path}}disabled{{/unless}}>\n        </div>\n\n      </div>\n\n      <div class="group-row" data-geometry="line">\n\n        <div class="style-col-1 input-reverse">\n          <span>Suavizar</span>\n          <input {{#if label.smooth}}checked{{/if}} type="checkbox" data-style-options="label.smooth" data-textpath\n            {{#unless label.path}}disabled{{/unless}}>\n        </div>\n\n        <div class=style-col-2>\n          <span>Desbordar:</span>\n          <select data-style-options="label.textoverflow" data-textpath {{#unless label.path}}disabled{{/unless}}>\n            <option value="hidden">Oculto</option>\n            <option value="visible">Visible</option>\n            <option value="ellipsis">Puntos suspensivos</option>\n          </select>\n        </div>\n\n      </div>\n\n      \x3c!-- Stroke Label --\x3e\n      <div class="subtitle">Trazo de etiqueta:</div>\n      <div class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Trazo</span>\n          <input type="checkbox" data-apply="label.stroke" {{#neq label.stroke.color \'no-color\' }}checked{{/neq}}>\n        </div>\n\n      </div>\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Color:</span>\n          <input type="color" data-style-options="label.stroke.color" {{#neq label.stroke.color \'no-color\'\n            }}value="{{label.stroke.color}}" {{/neq}}>\n        </div>\n\n        <div class="style-col-2">\n          <span>Ancho:</span>\n          <input value="{{label.stroke.width}}" type="number" value="2" max="15" min="1"\n            data-style-options="label.stroke.width">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Dash:</span>\n          <input value="{{#get 0 label.stroke.linedash}}{{/get}}" type="number" data-target="label.stroke.linedash"\n            data-style-options="label.stroke.linedash" data-format="array">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 label.stroke.linedash}}{{/get}}" type="number" data-id="label.stroke.linedash">\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Dash Offset:</span>\n          <input type="number" value="{{label.stroke.linedashoffset}}" data-style-options="label.stroke.linedashoffset">\n        </div>\n\n      </div>\n\n      <div class="group-row">\n\n        <div class="style-col-1">\n          <span>Line Cap:</span>\n          <select data-style-options="label.stroke.linecap">\n            {{#each linecaplabelstroke}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Line Join:</span>\n          <select data-style-options="label.stroke.linejoin">\n            {{#each linejoinlabelstroke}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  \x3c!-- Icon Options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="icon">\n    <div class="title">Opciones</div>\n\n    <div class="m-styles-body">\n\n\n      \x3c!-- Point Icon --\x3e\n      <div data-pointicon class="group-row">\n\n        <div class="style-col-1">\n          <span>URL</span>\n          <input value="{{icon.src}}" type="url" data-style-options="src.src">\n        </div>\n        <div class="style-col-2">\n          <span>Tamaño:</span>\n          <input {{#if icon.size}}value="{{#get 0 icon.size}}{{/get}}" {{/if}} type="number" data-undefined\n            data-target="size" data-style-options="src.size">\n          <span class="empty">&nbsp;</span>\n          <input {{#if icon.size}}value="{{#get 1 icon.size}}{{/get}}" {{/if}} type="number" data-undefined\n            data-id="size">\n        </div>\n\n\n      </div>\n\n      <div data-pointicon class="group-row">\n\n\n        <div class="style-col-2 input-reverse m-hidden">\n          <span>Snap to pixel</span>\n          <input {{#if icon.snaptopixel}}checked{{/if}} type="checkbox" data-style-options="src.snaptopixel">\n        </div>\n\n      </div>\n\n      <div data-pointicon class="group-row">\n\n        <div class="style-col-1">\n          <span>Anclaje:</span>\n          <input value="{{#get 0 icon.anchor}}{{/get}}" type="number" data-target="anchor"\n            data-style-options="src.anchor">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.anchor}}{{/get}}" type="number" data-id="anchor">\n        </div>\n\n        <div class="style-col-2">\n          <span>Escala:</span>\n          <input value="{{icon.scale}}" type="number" data-style-options="src.scale" max="3" min="0" step="0.1">\n        </div>\n      </div>\n\n\n\n      \x3c!-- Common --\x3e\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="icon-offset"\n            data-style-options="src.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="icon-offset" />\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="src.opacity">\n        </div>\n      </div>\n\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Habilitar rotación con el mapa</span>\n          <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="src.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="src.rotation">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n\n  \x3c!-- Form Options --\x3e\n  <div class="styles-row m-hidden m-simple-category" data-id="form">\n    <div class="title">Opciones</div>\n    <div class="m-styles-body">\n\n      \x3c!-- Point Font --\x3e\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>bkColor:</span>\n          <input type="color" data-style-options="form.fill" value="{{icon.fill}}">\n        </div>\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Forma:</span>\n          <select data-style-options="form.form">\n            {{#each formlist}}\n            <option value="{{this.id}}" {{#eq this.id this.selected}}selected{{/eq}}>{{this.name}}</option>\n            {{/each}}\n          </select>\n        </div>\n\n        <div class="style-col-2">\n          <span>Familia:</span>\n          <select data-style-options="form.class" data-icon="{{icon.class}}">\n            <option value="" selected>None</option>\n            <option value="g-cartografia">G-Cartografía</option>\n            <option value="fa">Font Awesome</option>\n          </select>\n          <button id="select-icon" class="g-cartografia-info"></button>\n          <div class="style-grid-container">\n            <div class="style-grid-item g-cartografia-alerta"></div>\n            <div class="style-grid-item g-cartografia-ayuda"></div>\n            <div class="style-grid-item g-cartografia-bandera"></div>\n            <div class="style-grid-item g-cartografia-brujula"></div>\n            <div class="style-grid-item g-cartografia-cancelar"></div>\n            <div class="style-grid-item g-cartografia-cancelar2"></div>\n            <div class="style-grid-item g-cartografia-capas"></div>\n            <div class="style-grid-item g-cartografia-capas2"></div>\n            <div class="style-grid-item g-cartografia-check"></div>\n            <div class="style-grid-item g-cartografia-check2"></div>\n            <div class="style-grid-item g-cartografia-check3"></div>\n            <div class="style-grid-item g-cartografia-check4"></div>\n            <div class="style-grid-item g-cartografia-check5"></div>\n            <div class="style-grid-item g-cartografia-comentarios"></div>\n            <div class="style-grid-item g-cartografia-descargar"></div>\n            <div class="style-grid-item g-cartografia-editar"></div>\n            <div class="style-grid-item g-cartografia-editar2"></div>\n            <div class="style-grid-item g-cartografia-escala"></div>\n            <div class="style-grid-item g-cartografia-escala2"></div>\n            <div class="style-grid-item g-cartografia-escala3"></div>\n            <div class="style-grid-item g-cartografia-flecha"></div>\n            <div class="style-grid-item g-cartografia-flecha-abajo"></div>\n            <div class="style-grid-item g-cartografia-flecha-abajo2"></div>\n            <div class="style-grid-item g-cartografia-flecha-arriba"></div>\n            <div class="style-grid-item g-cartografia-flecha-arriba2"></div>\n            <div class="style-grid-item g-cartografia-flecha-derecha"></div>\n            <div class="style-grid-item g-cartografia-flecha-derecha2"></div>\n            <div class="style-grid-item g-cartografia-flecha-derecha3"></div>\n            <div class="style-grid-item g-cartografia-flecha-deshacer"></div>\n            <div class="style-grid-item g-cartografia-flecha-izquierda"></div>\n            <div class="style-grid-item g-cartografia-flecha-izquierda2"></div>\n            <div class="style-grid-item g-cartografia-flecha-izquierda3"></div>\n            <div class="style-grid-item g-cartografia-flecha-link"></div>\n            <div class="style-grid-item g-cartografia-flechas-mover"></div>\n            <div class="style-grid-item g-cartografia-gps"></div>\n            <div class="style-grid-item g-cartografia-gps2"></div>\n            <div class="style-grid-item g-cartografia-gps3"></div>\n            <div class="style-grid-item g-cartografia-gps4"></div>\n            <div class="style-grid-item g-cartografia-guardar"></div>\n            <div class="style-grid-item g-cartografia-herramienta"></div>\n            <div class="style-grid-item g-cartografia-impresora"></div>\n            <div class="style-grid-item g-cartografia-info"></div>\n            <div class="style-grid-item g-cartografia-linea"></div>\n            <div class="style-grid-item g-cartografia-lineas"></div>\n            <div class="style-grid-item g-cartografia-lista"></div>\n            <div class="style-grid-item g-cartografia-localizacion"></div>\n            <div class="style-grid-item g-cartografia-localizacion2"></div>\n            <div class="style-grid-item g-cartografia-localizacion3"></div>\n            <div class="style-grid-item g-cartografia-localizacion4"></div>\n            <div class="style-grid-item g-cartografia-mano"></div>\n            <div class="style-grid-item g-cartografia-mano2"></div>\n            <div class="style-grid-item g-cartografia-mapa"></div>\n            <div class="style-grid-item g-cartografia-mas"></div>\n            <div class="style-grid-item g-cartografia-mas2"></div>\n            <div class="style-grid-item g-cartografia-medir-area"></div>\n            <div class="style-grid-item g-cartografia-medir-linea"></div>\n            <div class="style-grid-item g-cartografia-menos"></div>\n            <div class="style-grid-item g-cartografia-menos2"></div>\n            <div class="style-grid-item g-cartografia-menu"></div>\n            <div class="style-grid-item g-cartografia-mundo"></div>\n            <div class="style-grid-item g-cartografia-mundo2"></div>\n            <div class="style-grid-item g-cartografia-opciones"></div>\n            <div class="style-grid-item g-cartografia-papelera"></div>\n            <div class="style-grid-item g-cartografia-pin"></div>\n            <div class="style-grid-item g-cartografia-pin-nuevo"></div>\n            <div class="style-grid-item g-cartografia-pin2"></div>\n            <div class="style-grid-item g-cartografia-pin3"></div>\n            <div class="style-grid-item g-cartografia-pin4"></div>\n            <div class="style-grid-item g-cartografia-poligono"></div>\n            <div class="style-grid-item g-cartografia-posicion"></div>\n            <div class="style-grid-item g-cartografia-posicion2"></div>\n            <div class="style-grid-item g-cartografia-posicion3"></div>\n            <div class="style-grid-item g-cartografia-posicion4"></div>\n            <div class="style-grid-item g-cartografia-posicion5"></div>\n            <div class="style-grid-item g-cartografia-posicion6"></div>\n            <div class="style-grid-item g-cartografia-posicion7"></div>\n            <div class="style-grid-item g-cartografia-prismaticos"></div>\n            <div class="style-grid-item g-cartografia-regla"></div>\n            <div class="style-grid-item g-cartografia-reglas"></div>\n            <div class="style-grid-item g-cartografia-ruta"></div>\n            <div class="style-grid-item g-cartografia-spinner"></div>\n            <div class="style-grid-item g-cartografia-subir"></div>\n            <div class="style-grid-item g-cartografia-tamano"></div>\n            <div class="style-grid-item g-cartografia-temperatura"></div>\n            <div class="style-grid-item g-cartografia-texto"></div>\n            <div class="style-grid-item g-cartografia-usuario"></div>\n            <div class="style-grid-item g-cartografia-usuario2"></div>\n            <div class="style-grid-item g-cartografia-zoom"></div>\n            <div class="style-grid-item g-cartografia-zoom-extension"></div>\n            <div class="style-grid-item g-cartografia-zoom-mas"></div>\n            <div class="style-grid-item g-cartografia-zoom-menos"></div>\n            <div class="style-grid-item g-cartografia-pin5"></div>\n            <div class="style-grid-item g-cartografia-pin-nuevo2"></div>\n            <div class="style-grid-item g-cartografia-pin-seleccionado"></div>\n            <div class="style-grid-item g-cartografia-brujula-norte"></div>\n            <div class="style-grid-item fa fa-glass"></div>\n            <div class="style-grid-item fa fa-music"></div>\n            <div class="style-grid-item fa fa-search"></div>\n            <div class="style-grid-item fa fa-envelope-o"></div>\n            <div class="style-grid-item fa fa-heart"></div>\n            <div class="style-grid-item fa fa-star"></div>\n            <div class="style-grid-item fa fa-star-o"></div>\n            <div class="style-grid-item fa fa-user"></div>\n            <div class="style-grid-item fa fa-film"></div>\n            <div class="style-grid-item fa fa-th-large"></div>\n            <div class="style-grid-item fa fa-th"></div>\n            <div class="style-grid-item fa fa-th-list"></div>\n            <div class="style-grid-item fa fa-check"></div>\n            <div class="style-grid-item fa fa-remove"></div>\n            <div class="style-grid-item fa fa-close"></div>\n            <div class="style-grid-item fa fa-times"></div>\n            <div class="style-grid-item fa fa-search-plus"></div>\n            <div class="style-grid-item fa fa-search-minus"></div>\n            <div class="style-grid-item fa fa-power-off"></div>\n            <div class="style-grid-item fa fa-signal"></div>\n            <div class="style-grid-item fa fa-gear"></div>\n            <div class="style-grid-item fa fa-cog"></div>\n            <div class="style-grid-item fa fa-trash-o"></div>\n            <div class="style-grid-item fa fa-home"></div>\n            <div class="style-grid-item fa fa-file-o"></div>\n            <div class="style-grid-item fa fa-clock-o"></div>\n            <div class="style-grid-item fa fa-road"></div>\n            <div class="style-grid-item fa fa-download"></div>\n            <div class="style-grid-item fa fa-arrow-circle-o-down"></div>\n            <div class="style-grid-item fa fa-arrow-circle-o-up"></div>\n            <div class="style-grid-item fa fa-inbox"></div>\n            <div class="style-grid-item fa fa-play-circle-o"></div>\n            <div class="style-grid-item fa fa-rotate-right"></div>\n            <div class="style-grid-item fa fa-repeat"></div>\n            <div class="style-grid-item fa fa-refresh"></div>\n            <div class="style-grid-item fa fa-list-alt"></div>\n            <div class="style-grid-item fa fa-lock"></div>\n            <div class="style-grid-item fa fa-flag"></div>\n            <div class="style-grid-item fa fa-headphones"></div>\n            <div class="style-grid-item fa fa-volume-off"></div>\n            <div class="style-grid-item fa fa-volume-down"></div>\n            <div class="style-grid-item fa fa-volume-up"></div>\n            <div class="style-grid-item fa fa-qrcode"></div>\n            <div class="style-grid-item fa fa-barcode"></div>\n            <div class="style-grid-item fa fa-tag"></div>\n            <div class="style-grid-item fa fa-tags"></div>\n            <div class="style-grid-item fa fa-book"></div>\n            <div class="style-grid-item fa fa-bookmark"></div>\n            <div class="style-grid-item fa fa-print"></div>\n            <div class="style-grid-item fa fa-camera"></div>\n            <div class="style-grid-item fa fa-font"></div>\n            <div class="style-grid-item fa fa-bold"></div>\n            <div class="style-grid-item fa fa-italic"></div>\n            <div class="style-grid-item fa fa-text-height"></div>\n            <div class="style-grid-item fa fa-text-width"></div>\n            <div class="style-grid-item fa fa-align-left"></div>\n            <div class="style-grid-item fa fa-align-center"></div>\n            <div class="style-grid-item fa fa-align-right"></div>\n            <div class="style-grid-item fa fa-align-justify"></div>\n            <div class="style-grid-item fa fa-list"></div>\n            <div class="style-grid-item fa fa-dedent"></div>\n            <div class="style-grid-item fa fa-outdent"></div>\n            <div class="style-grid-item fa fa-indent"></div>\n            <div class="style-grid-item fa fa-video-camera"></div>\n            <div class="style-grid-item fa fa-photo"></div>\n            <div class="style-grid-item fa fa-image"></div>\n            <div class="style-grid-item fa fa-picture-o"></div>\n            <div class="style-grid-item fa fa-pencil"></div>\n            <div class="style-grid-item fa fa-map-marker"></div>\n            <div class="style-grid-item fa fa-adjust"></div>\n            <div class="style-grid-item fa fa-tint"></div>\n            <div class="style-grid-item fa fa-edit"></div>\n            <div class="style-grid-item fa fa-pencil-square-o"></div>\n            <div class="style-grid-item fa fa-share-square-o"></div>\n            <div class="style-grid-item fa fa-check-square-o"></div>\n            <div class="style-grid-item fa fa-arrows"></div>\n            <div class="style-grid-item fa fa-step-backward"></div>\n            <div class="style-grid-item fa fa-fast-backward"></div>\n            <div class="style-grid-item fa fa-backward"></div>\n            <div class="style-grid-item fa fa-play"></div>\n            <div class="style-grid-item fa fa-pause"></div>\n            <div class="style-grid-item fa fa-stop"></div>\n            <div class="style-grid-item fa fa-forward"></div>\n            <div class="style-grid-item fa fa-fast-forward"></div>\n            <div class="style-grid-item fa fa-step-forward"></div>\n            <div class="style-grid-item fa fa-eject"></div>\n            <div class="style-grid-item fa fa-chevron-left"></div>\n            <div class="style-grid-item fa fa-chevron-right"></div>\n            <div class="style-grid-item fa fa-plus-circle"></div>\n            <div class="style-grid-item fa fa-minus-circle"></div>\n            <div class="style-grid-item fa fa-times-circle"></div>\n            <div class="style-grid-item fa fa-check-circle"></div>\n            <div class="style-grid-item fa fa-question-circle"></div>\n            <div class="style-grid-item fa fa-info-circle"></div>\n            <div class="style-grid-item fa fa-crosshairs"></div>\n            <div class="style-grid-item fa fa-times-circle-o"></div>\n            <div class="style-grid-item fa fa-check-circle-o"></div>\n            <div class="style-grid-item fa fa-ban"></div>\n            <div class="style-grid-item fa fa-arrow-left"></div>\n            <div class="style-grid-item fa fa-arrow-right"></div>\n            <div class="style-grid-item fa fa-arrow-up"></div>\n            <div class="style-grid-item fa fa-arrow-down"></div>\n            <div class="style-grid-item fa fa-mail-forward"></div>\n            <div class="style-grid-item fa fa-share"></div>\n            <div class="style-grid-item fa fa-expand"></div>\n            <div class="style-grid-item fa fa-compress"></div>\n            <div class="style-grid-item fa fa-plus"></div>\n            <div class="style-grid-item fa fa-minus"></div>\n            <div class="style-grid-item fa fa-asterisk"></div>\n            <div class="style-grid-item fa fa-exclamation-circle"></div>\n            <div class="style-grid-item fa fa-gift"></div>\n            <div class="style-grid-item fa fa-leaf"></div>\n            <div class="style-grid-item fa fa-fire"></div>\n            <div class="style-grid-item fa fa-eye"></div>\n            <div class="style-grid-item fa fa-eye-slash"></div>\n            <div class="style-grid-item fa fa-warning"></div>\n            <div class="style-grid-item fa fa-exclamation-triangle"></div>\n            <div class="style-grid-item fa fa-plane"></div>\n            <div class="style-grid-item fa fa-calendar"></div>\n            <div class="style-grid-item fa fa-random"></div>\n            <div class="style-grid-item fa fa-comment"></div>\n            <div class="style-grid-item fa fa-magnet"></div>\n            <div class="style-grid-item fa fa-chevron-up"></div>\n            <div class="style-grid-item fa fa-chevron-down"></div>\n            <div class="style-grid-item fa fa-retweet"></div>\n            <div class="style-grid-item fa fa-shopping-cart"></div>\n            <div class="style-grid-item fa fa-folder"></div>\n            <div class="style-grid-item fa fa-folder-open"></div>\n            <div class="style-grid-item fa fa-arrows-v"></div>\n            <div class="style-grid-item fa fa-arrows-h"></div>\n            <div class="style-grid-item fa fa-bar-t-o"></div>\n            <div class="style-grid-item fa fa-bar-t"></div>\n            <div class="style-grid-item fa fa-twitter-square"></div>\n            <div class="style-grid-item fa fa-facebook-square"></div>\n            <div class="style-grid-item fa fa-camera-retro"></div>\n            <div class="style-grid-item fa fa-key"></div>\n            <div class="style-grid-item fa fa-gears"></div>\n            <div class="style-grid-item fa fa-cogs"></div>\n            <div class="style-grid-item fa fa-comments"></div>\n          </div>\n        </div>\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1">\n          <span>Radio:</span>\n          <input type="number" min="1" max="100" value="20" data-style-options="form.radius" value="{{icon.radius}}">\n        </div>\n\n        <div class="style-col-2">\n          <span>Tamaño icono:</span>\n          <input type="number" step="0.1" min=0 max=100 data-style-options="form.fontsize" value="{{icon.fontsize}}">\n        </div>\n\n\n      </div>\n\n      <div data-pointfont class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Gradiente</span>\n          <input type="checkbox" data-style-options="form.gradient" {{#if icon.gradient}}checked{{/if}}>\n        </div>\n\n        <div class="style-col-2">\n          <span>Color de icono:</span>\n          <input type="color" data-style-options="form.color" value="{{icon.color}}">\n        </div>\n      </div>\n\n      \x3c!-- Common --\x3e\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1">\n          <span>Offset:</span>\n          <input value="{{#get 0 icon.offset}}{{/get}}" type="number" data-target="form-offset"\n            data-style-options="form.offset">\n          <span class="empty">&nbsp;</span>\n          <input value="{{#get 1 icon.offset}}{{/get}}" type="number" data-id="form-offset" />\n        </div>\n\n        <div class="style-col-2">\n          <span>Opacidad:</span>\n          <input value="{{icon.opacity}}" type="number" step="0.1" min=0 max=1 data-style-options="form.opacity">\n        </div>\n      </div>\n\n      <div data-common-icon class="group-row">\n\n        <div class="style-col-1 input-reverse">\n          <span>Habilitar rotación con el mapa</span>\n          <input {{#if icon.rotate}}checked {{/if}} type="checkbox" data-style-options="form.rotate">\n        </div>\n\n        <div class="style-col-2">\n          <span>Rotación:</span>\n          <input value="{{icon.rotation}}" type="number" min=0 max=360 data-style-options="form.rotation">\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n</div>'},function(e,t){e.exports='<div>\n\n  <div class="subtitle m-hidden" data-target="{{attribute}}" data-delete="{{attribute}}">Variable: {{attribute}} <span data-remove="{{attribute}}" class="m-icon-remove"><i class="g-cartografia-papelera 2x"></i></span></div>\n  <div class="group-row m-hidden" data-target="{{attribute}}" data-delete="{{attribute}}">\n\n    <div class="style-col-1">\n      <span>Leyenda:</span>\n      <input data-variable-option="{{attribute}}.legend" type="text" value="{{legend}}">\n    </div>\n\n    <div class="style-col-2 input-reverse">\n      <span>Mostrar etiqueta</span>\n      <input type="checkbox" data-variable-option="{{attribute}}.labelshow" {{#if label}} checked {{/if}}>\n    </div>\n\n  </div>\n\n  <div data-label-target="{{attribute}}" data-delete="{{attribute}}" class="{{#unless label}}m-hidden{{/unless}}">\n\n    <div class="group-row m-hidden" data-target="{{attribute}}">\n\n      <div class="style-col-1">\n        <span>Relleno:</span>\n        <input data-variable-option="{{attribute}}.label.fill" type="color" value="{{label.fill}}">\n      </div>\n\n      <div class="style-col-2">\n        <span>Tamaño:</span>\n        <input data-variable-option="{{attribute}}.label.scale" type="number" min="1" value="{{label.scale}}">\n      </div>\n\n    </div>\n\n    <div class="group-row m-hidden" data-target="{{attribute}}">\n\n      <div class="style-col-1">\n        <span>Borde:</span>\n        <input type="color" data-variable-option="{{attribute}}.label.stroke.color" value="{{label.stroke.color}}">\n      </div>\n\n      <div class="style-col-2">\n        <span>Grosor:</span>\n        <input type="number" data-variable-option="{{attribute}}.label.stroke.width" min="1" value="{{label.stroke.width}}">\n      </div>\n    </div>\n\n    <div class="group-row m-hidden" data-target="{{attribute}}">\n\n      <div class="style-col-1">\n        <span>Espacio:</span>\n        <input data-variable-option="{{attribute}}.label.radiusIncrement" type="number" value="{{label.radiusIncrement}}">\n      </div>\n    </div>\n  </div>\n  <div class="group-row m-hidden" data-target="{{attribute}}">\n  </div>\n</div>\n'},function(e,t){e.exports='<div>\n  <ul>\n    {{#each ranges}}\n    <li data-page-selector="{{this.attribute}}">{{this.number}}</li>\n    {{/each}}\n  </ul>\n</div>\n'},function(e,t){e.exports='<div>\n  {{#each attributes}}\n  <option value="{{this}}">{{this}}</option>\n  {{/each}}\n</div>\n'},function(e){e.exports={url:{name:"stylemanager",separator:"*"},constructor:"M.plugin.StyleManager",parameters:[{type:"object",properties:[{type:"simple",name:"layer",position:0}]}],files:{ol:{scripts:["stylemanager.ol.min.js"],styles:["stylemanager.ol.min.css"]}},metadata:{name:"stylemanager",description:"Gestión del estilo de la simbología de las capas vectoriales del mapa",text:"Plugin de Mapea para la gestión de la simbología de las capas vectoriales del mapa.",version:"2.0.5",date:"Marzo, 2021",author:"",org:"Consejería de Hacienda, Industria y Energía. Junta de Andalucía",tags:"mapea,plugin",icon:"./facade/assets/icons/icons.svg"}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(18),n(19);var a=n(4),i=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,M.impl.Control),n=t,(a=[{key:"addTo",value:function(e,n){o(c(t.prototype),"addTo",this).call(this,e,n)}},{key:"activate",value:function(){M.dialog.info("Hello World!")}},{key:"deactivate",value:function(){M.dialog.info("Bye World!")}}])&&r(n.prototype,a),i&&r(n,i),t}(),f=n(1),p=n.n(f),v=n(5),y=n.n(v),g=n(6),h=n.n(g),m=n(7),b=n.n(m),k=n(8),S=n.n(k),w=n(9),_=n.n(w),O=n(10),E=n.n(O),x=n(0),L=n(11),P=n.n(L),q=n(2),A=n.n(q);function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var j=function(){function e(t,n,a,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.htmlParent_=n,this.htmlTemplate_=null,this.html_=t,this.activated_=!0,this.selected_=!1,this.disabled_=!1,this.layer_=s,this.activateButton_=n.querySelector('[data-role="botonera"] [data-flap="'.concat(a,'"]')),this.selectButton_=n.querySelector('[data-role="botonera"] [data-checkbox="'.concat(a,'"]')),this.style_=i,this.styleType_=a,this.compilePromise_=this.initializeView(this.html_,this.htmlParent_)}var t,n,a;return t=e,a=[{key:"createObj",value:function(t,n,a){var i=M.utils.isArray(n)?n:n.split("."),s=i.length,r=i[0];1===s?(M.utils.isArray(a)?a=T(a):M.utils.isObject(a)&&(a=Object.assign({},a)),t[r]=a):s>1&&(M.utils.isNullOrEmpty(t[r])&&(t[r]={}),e.createObj(t[r],i.slice(1,s),a))}}],(n=[{key:"compileTemplate",value:function(e,t){return new Promise(function(n){n(M.template.compileSync(e,{vars:t}))})}},{key:"getCompilePromise",value:function(){return this.compilePromise_}},{key:"initializeView",value:function(e,t){var n=this,a=this.getOptionsTemplate();return this.compileTemplate(e,a).then(function(e){t.appendChild(e),n.htmlTemplate_=e})}},{key:"getOptionsTemplate",value:function(){}},{key:"addTemplate",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.compileTemplate(e,n).then(function(e){t.innerHTML=e.innerHTML,"function"==typeof a&&a()})}},{key:"appendTemplate",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.compileTemplate(e,n).then(function(e){t.appendChild(e),"function"==typeof a&&a()})}},{key:"generateOptions",value:function(){var t={options:{},ranges:{}};return this.querySelectorAllForEach("[data-options]",function(e){var n=e.dataset.options,a=e.value;"checkbox"===e.type&&(a=e.checked),"number"===e.type&&(a=parseFloat(a)),t[n]=a}),this.querySelectorAllForEach("[data-style-options]",function(e){var n=e.dataset.styleOptions,a=e.value;"checkbox"===e.type&&(a=e.checked),"number"===e.type&&(a=parseFloat(a)),t.options[n]=a}),this.querySelectorAllForEach("[data-array-options]",function(e){var n=e.dataset.arrayOptions,a=e.value;M.utils.isArray(t.options[n])||(t.options[n]=[]),t.options[n].push(a)}),this.querySelectorAllForEach("[data-ranges-id]",function(n){var a=n.dataset.rangesId;null==t.ranges[a]&&(t.ranges[a]={});var i=n.dataset.rangesOptions,s=n.value;"number"===n.type&&(s=parseFloat(s)),e.createObj(t.ranges[a],i,s)}),t}},{key:"setActivated",value:function(e){this.activated_=e,!0===e&&(this.activateButton_.classList.replace("check-selected","check-active"),this.unhide()),!1===e&&(this.activateButton_.classList.replace("check-active","check-selected"),this.hide())}},{key:"setSelected",value:function(e){this.selected_=e,this.selectButton_.checked=e}},{key:"setDisabled",value:function(e){this.disabled_=e,this.selectButton_.disabled=e,!0===e&&(this.activateButton_.classList.add("check-inactive"),this.setSelected(!e),this.setActivated(!e),this.hide()),!1===e&&this.activateButton_.classList.remove("check-inactive")}},{key:"hide",value:function(){return this.getTemplate().classList.add("m-hidden"),this}},{key:"unhide",value:function(){return this.getTemplate().classList.remove("m-hidden"),this}},{key:"getTemplate",value:function(){return this.htmlTemplate_}},{key:"getParentTemplate",value:function(){return this.htmlParent_}},{key:"querySelector",value:function(e){return this.getTemplate().querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.getTemplate().querySelectorAll(e)}},{key:"querySelectorAllForEach",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Array.prototype.forEach.apply(this.querySelectorAll(e),[t,n])}},{key:"querySelectorAllMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.prototype.map.apply(this.querySelectorAll(e),[t,n])}},{key:"querySelectorParent",value:function(e){return this.getParentTemplate().querySelector(e)}},{key:"querySelectorAllParent",value:function(e){return this.getParentTemplate().querySelectorAll(e)}},{key:"querySelectorAllForEachParent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;Array.prototype.forEach.apply(this.querySelectorAllParent(e),[t,n])}},{key:"querySelectorAllMapParent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return Array.prototype.map.apply(this.querySelectorAllParent(e),[t,n])}},{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"getActivateButton",value:function(){return this.activateButton_}},{key:"getSelectButton",value:function(){return this.selectButton_}},{key:"setIntegerAttributes",value:function(){var e=this;if(this.layer_ instanceof M.layer.Vector){var t=this.filterAttributesFeature("number").map(function(e){return{name:e}}),n=this.getTemplate().querySelector("[data-options='attributeName']");this.compileTemplate(A.a,{attributes:t}).then(function(a){n.innerHTML=a.innerHTML,0===t.length?e.deactivateBinding():e.activateBinding()})}}},{key:"filterAttributesFeature",value:function(e){var t=this.getAllFeaturesAttributes(),n=Object.keys(t);switch(e){case"string":n=n.filter(function(e){return isNaN(parseFloat(t[e]))});break;case"number":n=n.filter(function(e){return!isNaN(parseFloat(t[e]))})}return n}},{key:"getFeaturesAttributes",value:function(){return this.layer_.getFeatures()[0].getAttributes()}},{key:"getAllFeaturesAttributes",value:function(){var e=this.getFeaturesAttributes();return this.layer_.getFeatures().reverse().forEach(function(t){Object.keys(t.getAttributes()).forEach(function(t,n){null!=n&&null==e[t]&&(e[t]=n)})}),e}},{key:"hideAllOptionsSections",value:function(){this.querySelectorAllForEach(".styles-row",function(e){e.classList.add("m-hidden")})}},{key:"hideOptionSection",value:function(e){this.querySelector("[data-id=".concat(e,"]")).classList.add("m-hidden")}},{key:"showOptionSection",value:function(e){this.querySelector("[data-id=".concat(e,"]")).classList.remove("m-hidden")}},{key:"addInputListener",value:function(e){this.querySelectorAllForEach("input",function(t){t.addEventListener("change",e)}),this.querySelectorAllForEach("select",function(t){t.addEventListener("change",e)})}},{key:"deactivateBinding",value:function(){this.querySelectorAllForEach("input,select:not([data-options='attributeName']),label,span,.subtitle",function(e){e.classList.add("m-hidden")}),this.querySelector("[data-options='attributeName']").disabled=!0;var e=document.createElement("option");e.value="",e.innerText="No existen atributos",this.querySelector("[data-options='attributeName']").add(e),this.querySelector("span").classList.remove("m-hidden")}},{key:"activateBinding",value:function(){this.querySelectorAllForEach("input,select:not([data-options='attributeName']),label,span,.subtitle",function(e){e.classList.remove("m-hidden")}),this.querySelector("[data-options='attributeName']").disabled=!1}},{key:"destroy",value:function(){this.htmlParent_.removeChild(this.htmlTemplate_)}}])&&C(t.prototype,n),a&&C(t,a),e}();function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(e,n,a,i,s,r){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(l=R(this,D(t).call(this,e,n,a,i,s))).controller_=r,l}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,j),n=t,i=[{key:"arrayDataToTemplate",value:function(e,t,n){return t.map(function(t,a){return{id:t,name:n[a],selected:e}})}},{key:"RADIUS_OPTION",get:function(){return 10}},{key:"ICON_RADIUS_OPTION",get:function(){return 10}},{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"},{id:"icon",name:"Icono"},{id:"form",name:"Fuente"}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"}]}},{key:"GEOMETRIES",get:function(){return["point","line","polygon"]}},{key:"DEFAULT_OPTIONS_STYLE",get:function(){var e;return{radius:10,fill:{color:"#e5008a",opacity:1,width:2,pattern:{color:"red",name:"HATCH",size:1,spacing:2,scale:3,offset:5,rotation:0}},stroke:{color:"#000000",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},label:{fill:{color:"#ff0000"},stroke:{color:"no-color",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},scale:2,text:"Texto de prueba",font:"14px serif",align:"center",baseline:"top",rotate:!1,rotation:0,offset:[0,0]},icon:(e={src:"",form:"",size:[40,40],anchor:[0,0],scale:1,offset:[0,0],rotate:!1,rotation:0,opacity:1},F(e,"form","CIRCLE"),F(e,"class","g-cartografia-info"),F(e,"fill","#ffffff"),F(e,"color","#e07e18"),e)}}}],(a=[{key:"setLayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.layer_=e,!0===t&&this.refreshTemplate(),this}},{key:"setGeometry",value:function(e){return t.GEOMETRIES.includes(e)?this.geometry_=e:this.geometry_="point",this}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"refreshTemplate",value:function(){var e=this,n=this.getGeometry();t.GEOMETRIES.filter(function(e){return e!==n}).forEach(function(t){e.querySelectorAllForEach('[data-geometry="'.concat(t,'"]'),function(e){return e.classList.add("m-hidden")})}),this.querySelectorAllForEach('[data-geometry="'.concat(n,'"]'),function(e){return e.classList.remove("m-hidden")}),this.refreshOptionsButtons(),this.addLabelPathListener()}},{key:"refreshOptionsButtons",value:function(){var e=this,n=t.OPTIONS_POINT_SUBMENU;"point"!==this.getGeometry()&&(n=t.OPTIONS_SUBMENU),this.addOptionsButtons(n,function(){e.compatibleSectionListener("icon","form"),e.compatibleSectionListener("form","icon")})}},{key:"addOptionsButtons",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.getParentTemplate().querySelector("[data-buttons-option]");this.hideAllOptionsSections(),this.addTemplate(P.a,a,{buttonsParams:e},function(){e.forEach(function(e){t.toggleCheckOptionSection(e.id),t.activateOptionSection(e.id),"function"==typeof n&&n()}),t.activateOptionsStyle(),t.addEventCheckFromSubmenu()})}},{key:"addEventCheckFromSubmenu",value:function(){var e=this;this.querySelectorAllForEachParent("[data-buttons-option] input",function(t){t.addEventListener("change",function(){e.controller_.selectPanel("stylesimple")})})}},{key:"activateOptionsStyle",value:function(){var e=this.style_,t=this.querySelector("#select-icon");t.replaceWith(t.cloneNode(!0)),(t=this.querySelector("#select-icon")).addEventListener("click",this.eventOpenIconSelector),document.querySelector(".style-grid-container").addEventListener("click",this.eventSelectIcon);var n=this.querySelector("[data-style-options='form.class']");n.addEventListener("change",this.changeFamilyFont);var a=this.querySelector(".style-col-2 > select[data-style-options = 'form.class']"),i=a.dataset.icon;if(""!==i){var s=i.split("-"),r="g"==s[0]?"g-cartografia":"fa"==s[0]?"fa":"";a.querySelector('option[value="'.concat(r,'"]')).selected=!0,a.dispatchEvent(new Event("change")),document.querySelector("#select-icon").classList=("fa"==r?"fa ":"")+i,document.querySelector(".style-grid-item".concat("fa"==r?".fa":"",".").concat(i)).classList.add("selected")}if(null!=e){var l=e.getOptions();if(null!=l.fill)Object.values(l.fill).filter(function(e){return null!=e}).length>0&&this.checkOptionSection("fill");null!=l.stroke&&this.checkOptionSection("stroke"),null!=l.label&&this.checkOptionSection("label"),null!=l.icon&&(l.icon.hasOwnProperty("src")&&(this.checkOptionSection("icon"),this.disableOption("form")),l.icon.hasOwnProperty("form")&&(this.checkOptionSection("form"),this.disableOption("icon")),l.icon.hasOwnProperty("class")&&(n.value=l.icon.class))}}},{key:"eventOpenIconSelector",value:function(e){var t=document.querySelector(".style-grid-container");"style-grid-container active"===t.classList.toString()?t.classList.remove("active"):t.classList.add("active")}},{key:"eventSelectIcon",value:function(e){if(!e.target.classList.contains("selected")&&e.target.classList.contains("style-grid-item")){var t=document.querySelector(".style-grid-item.selected");t&&t.classList.remove("selected"),e.target.classList.add("selected");var n=e.target.classList.toString().replace("selected","").replace("style-grid-item","").trim();document.querySelector("[data-style-options='form.class']").dataset.icon=n.replace("fa","").trim(),document.querySelector("#select-icon").classList=n}}},{key:"changeFamilyFont",value:function(e){""===e.target.value?(document.querySelector("#select-icon").style.display="none",document.querySelector(".style-grid-container").classList.remove("active")):document.querySelector("#select-icon").style.display="inherit",document.querySelectorAll(".style-grid-item").forEach(function(e){e.style.display="none"}),document.querySelectorAll(".style-grid-item[class*='".concat(e.target.value,"']")).forEach(function(e){e.style.display="inherit"})}},{key:"addLabelPathListener",value:function(){var e=this,t=this.querySelector("[data-style-options='label.path']");t.addEventListener("change",function(){e.togglePathSection(!t.checked)})}},{key:"togglePathSection",value:function(e){this.querySelectorAllForEach("[data-textpath]",function(t){t.disabled=!0===e&&e})}},{key:"toggleCheckOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')).addEventListener("change",function(n){t.toggleCheckOptSectionListener(e,n)})}},{key:"toggleCheckOptSectionListener",value:function(e,t){!0===t.target.checked&&this.activateOption(e)}},{key:"checkOptionSection",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.activateOption(e),t.checked=!0}},{key:"activateOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector('[data-buttons-option] [data-label="'.concat(e,'"]')).addEventListener("click",function(){t.activateOption(e)})}},{key:"activateOption",value:function(e){var t=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')),n=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=n&&!1===n.disabled&&(this.activateLabel(t),this.displaySectionOption(e))}},{key:"activateLabel",value:function(e){this.querySelectorAllForEachParent("[data-selector]",function(e){e.classList.remove("check-active"),e.classList.add("check-selected")}),e.classList.add("check-active"),e.classList.remove("check-selected")}},{key:"displaySectionOption",value:function(e){this.hideAllOptionsSections(),this.showOptionSection(e)}},{key:"generateOptions",value:function(){var e=this,t={options:{}};this.querySelectorAllForEach("[data-style-options]",function(n){var a=n.dataset.styleOptions,i=n.value;"form.class"==a&&""!==i&&(i=e.querySelector("[data-style-options='form.class']").dataset.icon),"checkbox"===n.type&&(i=n.checked),"number"===n.type&&(i=parseFloat(i),isNaN(i)&&(i=0));var s=n.dataset.target;if(void 0!==s){var r=parseFloat(e.querySelector('[data-id="'.concat(s,'"]')).value);isNaN(r)&&(r=0),i=[i,r]}j.createObj(t.options,a,i)}),this.querySelectorAllForEach("[data-apply]",function(e){var n=e.dataset.apply;!1===e.checked&&j.createObj(t.options,n,void 0)});var n,a=this.querySelector("[data-font-size]").value||12,i=this.querySelector("[data-font-family]").value,s="".concat(a,"px ").concat(i),r=document.querySelector("[data-apply='icon']"),l=null!==r&&!0===r.checked?t.options.src:t.options.form;return null!=t.options.label&&null!=t.options.label.text&&(n=t.options.label),t.options={fill:t.options.fill,stroke:t.options.stroke,label:n,icon:l,radius:t.options.radius},"line"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label},delete t.options.fill.pattern,0===Object.keys(t.options.fill).length&&delete t.options.fill),"polygon"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label}),null!=t.options.label&&(t.options.label.font=s),this.processOptions(t)}},{key:"processOptions",value:function(e){var t=M.utils.extends({},e),n=this.isChecked("fill"),a=this.isChecked("stroke"),i=this.isChecked("label"),s=this.isChecked("icon"),r=this.isChecked("form");return t.options.fill=!0===n?t.options.fill:void 0,t.options.stroke=!0===a?t.options.stroke:void 0,t.options.label=!0===i?t.options.label:void 0,t.options.icon=!0===s||!0===r?t.options.icon:void 0,t}},{key:"isChecked",value:function(e){var t=!1,n=this.getParentTemplate().querySelector("[data-buttons-option] input[data-apply='".concat(e,"'"));return null!=n&&(t=n.checked),t}},{key:"generateStyle",value:function(){var e;this.querySelectorAllForEach("[data-apply]",function(e){!0===e.checked&&!1});var t=this.getGeometry(),n=this.generateOptions().options;switch(t){case"point":e=new M.style.Point(n);break;case"line":e=new M.style.Line(n);break;case"polygon":e=new M.style.Polygon(n);break;default:M.dialog.error("Geometría no soportada","Error")}return e}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("change",function(){!0===a.checked?n.disableOption(t):n.enableOption(t)})}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active"),t.disabled=!0,t.checked=!1}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')).classList.remove("check-inactive"),t.disabled=!1}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;null!=this.style_&&(null!=this.style_.get("fill.pattern")&&(e.patternflag=!0),e=M.utils.extends({},this.style_.getOptions()),e=M.utils.extends(e,t.DEFAULT_OPTIONS_STYLE)),e.fill.color=x(e.fill.color).hex(),e.stroke.color=x(e.stroke.color).hex(),e.label.fill.color=x(e.label.fill.color).hex(),e.label.stroke.color="no-color"===e.label.stroke.color?"no-color":x(e.label.stroke.color).hex(),e.fill.pattern.color=x(e.fill.pattern.color).hex(),e.icon.fill=x(e.icon.fill).hex(),e.icon.color=x(e.icon.color).hex();var n=Object.keys(M.style.pattern).filter(function(e){return"ICON"!=e&&"IMAGE"!=e}),a=Object.values(M.style.align),i=Object.values(M.style.baseline),s=Object.values(M.style.form).filter(function(e){return null!=e});if(e.patternlist=t.arrayDataToTemplate(e.fill.pattern.name,n,n),e.linecapstroke=t.arrayDataToTemplate(e.stroke.linecap,["butt","square","round"],["Extremo","Cuadrado","Redondeado"]),e.linejoinstroke=t.arrayDataToTemplate(e.stroke.linejoin,["bevel","miter","round"],["Bisel","Inglete","Redondeado"]),e.linecaplabelstroke=t.arrayDataToTemplate(e.label.stroke.linecap,["butt","square","round"],["Extremo","Cuadrado","Redondeado"]),e.linejoinlabelstroke=t.arrayDataToTemplate(e.label.stroke.linejoin,["bevel","miter","round"],["Bisel","Inglete","Redondeado"]),e.alignlist=t.arrayDataToTemplate(e.label.align,a,["Centro","Justificado","Izquierda","Derecha"]),e.baselinelist=t.arrayDataToTemplate(e.label.baseline,i,["Alfabetico","Abajo","Colgando","Ideografico","Arriba","Centro"]),e.formlist=t.arrayDataToTemplate(e.icon.form,s,s),null!=this.layer_){var r=Object.keys(this.getFeaturesAttributes()),l=null!=e.label?e.label.text:"";e.featuresAttr=t.arrayDataToTemplate(l,r.map(function(e){return"{{".concat(e,"}}")}),r)}return e}},{key:"toggleDisplaySubmenu",value:function(e){var t=!0===e?"add":"remove";this.getParentTemplate().querySelector("[data-buttons-option]").classList[t]("m-hidden")}},{key:"refreshLegend",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.imgId_,i=this.generateStyle();if(!0===n&&(i=this.style_),null!=i){(i=i.clone())instanceof M.style.Point&&(i.set("radius",t.RADIUS_OPTION),null!=i.get("icon.radius")&&i.set("icon.radius",t.ICON_RADIUS_OPTION));var s=this.htmlParent_.querySelector("img[id='img-".concat(a,"']"));i.updateCanvas();var r=i.toImage();null!=s&&(s.src=r)}}},{key:"imgId",set:function(e){this.imgId_=e},get:function(){return this.imgId_}}])&&I(n.prototype,a),i&&I(n,i),t}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function t(e,n,a,i,s){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H(this,V(t).call(this,e,n,a,i,s))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,j),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;return""!=e.attributeName&&(t=new M.style.Proportional(e.attributeName,e.minRadius,e.maxRadius)),t}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;return null!=this.style_&&(e={attributeName:this.style_.getAttributeName(),minRadius:this.style_.getMinRadius(),maxRadius:this.style_.getMaxRadius()},this.setSelected(!0)),null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach(function(t){return t.selected=e.attributeName})),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map(function(e){return{name:e}})}}])&&U(n.prototype,a),i&&U(n,i),t}();function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}K.DEFAULT_OPTIONS_STYLE={attributeName:"",minRadius:12,maxRadius:25};var ee=function(e){function t(e,n,a,i,s){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=$(this,Q(t).call(this,e,n,a,i,s))).compilePromise_.then(function(){r.addEventRangeListener(),r.addPaginationListener()}),r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,j),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"generateOptions",value:function(){var e={options:{},ranges:{}};return this.querySelectorAllForEach("[data-style-options]",function(t){var n=t.dataset.styleOptions,a=t.value;"checkbox"===t.type&&(a=t.checked),"number"===t.type&&(a=parseFloat(a)),"label.color"===n?(e.options.label={},e.options.label.color=a):e.options[n]=a}),this.querySelectorAllForEach("[data-ranges-id][data-apply-range]",function(t){var n=t.dataset.rangesId;null==e.ranges[n]&&(e.ranges[n]={});var a=t.dataset.rangesOptions,i=t.value;"number"===t.type&&(i=parseFloat(i)),j.createObj(e.ranges[n],a,i)}),e.ranges=Object.values(e.ranges).filter(function(e){return!isNaN(e.minRange)&&!isNaN(e.maxRange)}),e}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=J(e.ranges).map(function(e){return{min:e.minRange,max:e.maxRange,style:new M.style.Point(e.style)}});return e.options.ranges=t,new M.style.Cluster(e.options,{distanceSelectFeatures:e.options.distanceSelectFeatures})}},{key:"setRanges",value:function(){var e=this.querySelector("[data-number-ranges]"),n=parseInt(e.value);if(n>0&&n<t.NUMBER_RANGES){for(var a=1;a<n+1;a++){this.querySelector('[data-page-selector="'.concat(a,'"]')).classList.remove("m-hidden"),this.querySelectorAllForEach('[data-ranges-id="'.concat(a,'"]'),function(e){e.setAttribute("data-apply-range","")})}for(var i=n+1;i<t.NUMBER_RANGES;i++){this.querySelector('[data-page-selector="'.concat(i,'"]')).classList.add("m-hidden"),this.querySelectorAllForEach('[data-ranges-id="'.concat(i,'"]'),function(e){e.removeAttribute("data-apply-range")})}var s=this.querySelector('[data-page-selector="'.concat(n,'"]'));this.paginationListener(s)()}}},{key:"paginationListener",value:function(e){var t=this;return function(){var n=t.querySelector("[data-page-active]");if(null!=n){n.removeAttribute("data-page-active"),n.classList.remove("m-page-active");var a=n.dataset.pageSelector,i=t.querySelector("[data-page='".concat(a,"']"));null!=i&&i.classList.add("m-hidden")}if(null!=e){e.classList.add("m-page-active"),e.dataset.pageActive="";var s=e.dataset.pageSelector;t.querySelector("[data-page='".concat(s,"']")).classList.remove("m-hidden")}}}},{key:"addEventRangeListener",value:function(){this.querySelector("[data-number-ranges]").addEventListener("input",this.setRanges.bind(this))}},{key:"addPaginationListener",value:function(){var e=this;this.querySelectorAllForEach("[data-page-selector]",function(t){t.addEventListener("click",e.paginationListener(t).bind(e))})}},{key:"getOptionsTemplate",value:function(){var e=Object.assign({},t.DEFAULT_OPTIONS_STYLE);if(null!=this.style_){var n=(e=Object.assign({},this.style_.getOptions())).ranges.filter(function(e){return!isNaN(e.min)}).map(function(e){var t={},n=e.style;return t.min=e.min,t.max=e.max,t.fill=n.get("fill.color"),t.stroke=n.get("stroke.color"),t.width=n.get("stroke.width"),t.opacity=null==n.get("fill.opacity")?1:n.get("fill.opacity"),t.radius=n.get("radius"),t});e.ranges=n}var a=e.ranges.slice(-1)[0].max;return e.pages=[],function(e,t,n){for(var a=[],i=n,s=e;s<t;s++){var r=i+1,l={id:s,min:r,max:i=r+200,fill:x.random().hex(),stroke:x.random().hex()};a.push(l)}return a}(e.ranges.length+1,t.NUMBER_RANGES,a).forEach(function(t,n){e.pages.push(t)}),e}}])&&W(n.prototype,a),i&&W(n,i),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ae(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ee.NUMBER_RANGES=13,ee.DEFAULT_OPTIONS_STYLE={hoverInteraction:!0,displayAmount:!0,selectInteraction:!0,animated:!0,distance:30,label:{color:"#4dfeef"},maxFeaturesToSelect:20,distanceSelectFeatures:15,ranges:[{min:2,max:30,fill:"#ff00ff",stroke:"#00fef0",width:2,opacity:1}]};var re=function(e){function t(e,n,a,i,s){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ae(this,ie(t).call(this,e,n,a,i,s))).style_=null,r.compilePromise_.then(function(){r.removeGradientListener(),r.addGradientListener()}),r.numberAddedColors_=6,r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,j),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.style_=null,this}},{key:"removeGradientListener",value:function(){var e=this;this.querySelectorAllForEach(".m-removable-input-color .m-close",function(t){t.addEventListener("click",function(){t.parentElement.parentElement.removeChild(t.parentElement),e.numberAddedColors_--})})}},{key:"addGradientListener",value:function(){var e=this,n=this.querySelector("[data-parent='gradient']");this.querySelector("[data-add]").addEventListener("click",function(){e.compileTemplate("gradientheatmap.html",{}).then(function(a){e.numberAddedColors_<t.MAX_NUMBER_COLORS?(n.appendChild(a),e.setRandomColor(a),a.querySelector(".m-close").addEventListener("click",function(){a.parentElement.removeChild(a),e.numberAddedColors_--}),e.numberAddedColors_++):M.dialog.info("Ha llegado al número máximo de colores permitidos","Información")})})}},{key:"setRandomColor",value:function(e){var t=e.querySelector("input"),n=chroma.random().hex();t.value=n}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;return""!=e.attributeName&&(t=new M.style.Heatmap(e.attributeName,e.options)),t}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;return null!=this.style_&&(e.attribute=this.style_.getAttributeName(),e.radius=this.style_.getRadius(),e.blur=this.style_.getBlurSize(),e.gradient=this.style_.getGradient()),null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach(function(t){return t.selected=e.attribute})),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map(function(e){return{name:e}})}}])&&ne(n.prototype,a),i&&ne(n,i),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}re.DEFAULT_OPTIONS_STYLE={attribute:"",gradient:["#0000ff","#00ffff","#00ff00","#ffff00","#ffb619","#ff0000"],blur:12,radius:22},re.MAX_NUMBER_COLORS=30;var fe=function(e){function t(e,n,a,i,s){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,de(t).call(this,e,n,a,i,s))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,j),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this}},{key:"setRanges",value:function(){for(var e=this.querySelector("[data-number-ranges]"),t=parseInt(e.value),n=[],a=1;a<=t;a++)n.push({number:a});var i=this.querySelector("[data-parent]");this.addTemplate("choroplethstyles.html",i,{ranges:n})}},{key:"addEventRangeListener",value:function(){this.querySelector("[data-number-ranges]").addEventListener("input",this.setRanges.bind(this))}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=e.ranges,n=e.options.colors,a="JENKS"===e.quantification?M.style.quantification.JENKS:M.style.quantification.QUANTILE,i=null;return""!=e.attributeName&&(i=new M.style.Choropleth(e.attributeName,n,a(t))),i}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;if(null!=this.style_){var n=this.style_.getChoroplethStyles()[0].get("fill.color"),a=this.style_.getChoroplethStyles().slice(-1)[0].get("fill.color");n=n||this.style_.getChoroplethStyles()[0].get("stroke.color"),a=a||this.style_.getChoroplethStyles().slice(-1)[0].get("stroke.color"),e={attribute:this.style_.getAttributeName(),ranges:this.style_.getChoroplethStyles().length,quantification:this.style_.getQuantification().name,startColor:n,endColor:a}}return null!=this.layer_&&(e.attributes=this.getAttributes(),e.attributes.forEach(function(t){return t.selected=e.attribute})),e}},{key:"getAttributes",value:function(){return this.filterAttributesFeature("number").map(function(e){return{name:e}})}}])&&oe(n.prototype,a),i&&oe(n,i),t}();fe.DEFAULT_OPTIONS_STYLE={attribute:"",quantification:"JENKS",ranges:4,startColor:"#F8FF25",endColor:"#4400FD"};var pe=n(12),ve=n.n(pe),ye=n(13),ge=n.n(ye),he=n(3),me=n.n(he);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function we(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(e,n,a,i,s,r){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(l=we(this,_e(t).call(this,e,n,a,i,s))).fill_=!1,l.stroke_=!1,l.label_=!1,l.form_=!1,l.icon_=!1,null!=i&&(l.fill_=null!=i.getOptions().fill,l.stroke_=null!=i.getOptions().stroke,l.label_=null!=i.getOptions().label,l.icon_=null!=i.get("icon.src"),l.form_=null!=i.get("icon.form")),l.binding_=r,l}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,j),n=t,i=[{key:"arrayDataToTemplate",value:function(e,t,n){return t.map(function(t,a){return{id:t,name:n[a],selected:e}})}},{key:"RADIUS_OPTION",get:function(){return 10}},{key:"ICON_RADIUS_OPTION",get:function(){return 10}},{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"},{id:"icon",name:"Icono"},{id:"form",name:"Familia"}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"}]}},{key:"GEOMETRIES",get:function(){return["point","line","polygon"]}},{key:"DEFAULT_OPTIONS_STYLE",get:function(){var e;return{radius:10,fill:{color:"#e5008a",opacity:1,width:2,pattern:{color:"red",name:"HATCH",size:1,spacing:2,scale:3,offset:5,rotation:0}},stroke:{color:"#000000",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},label:{fill:{color:"#ff0000"},stroke:{color:"no-color",width:2,linedash:[0,0],linedashoffset:0,linecap:"none",linejoin:"none"},scale:2,text:"Texto de prueba",font:"14px serif",align:"center",baseline:"top",rotate:!1,rotation:0,offset:[0,0]},icon:(e={src:"",form:"",size:[40,40],anchor:[0,0],scale:1,offset:[0,0],rotation:0,opacity:1},ke(e,"form","CIRCLE"),ke(e,"fill","#ffffff"),ke(e,"gradientcolor","#e07e18"),e)}}}],(a=[{key:"setLayer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.layer_=e,!0===t&&this.refreshTemplate(),this}},{key:"getOptions",value:function(){return{fill:this.fill_,stroke:this.stroke_,label:this.label_,form:this.form_,icon:this.icon_}}},{key:"setGeometry",value:function(e){return t.GEOMETRIES.includes(e)?this.geometry_=e:this.geometry_="point",this}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"refreshTemplate",value:function(){var e=this,n=this.getGeometry();t.GEOMETRIES.filter(function(e){return e!==n}).forEach(function(t){e.querySelectorAllForEach('[data-geometry="'.concat(t,'"]'),function(e){return e.classList.add("m-hidden")})}),this.querySelectorAllForEach('[data-geometry="'.concat(n,'"]'),function(e){return e.classList.remove("m-hidden")}),this.addLabelPathListener()}},{key:"activateOptionsStyle",value:function(){var e=this.style_;if(null!=e){var t=e.getOptions();if(null!=t.fill)Object.values(t.fill).filter(function(e){return null!=e}).length>0&&this.checkOptionSection("fill");null!=t.stroke&&this.checkOptionSection("stroke"),null!=t.label&&this.checkOptionSection("label"),null!=t.icon&&(t.icon.hasOwnProperty("src")&&(this.checkOptionSection("icon"),this.disableOption("form")),t.icon.hasOwnProperty("form")&&(this.checkOptionSection("form"),this.disableOption("icon")))}}},{key:"showCompatibleSections",value:function(){this.binding_.enableOption("form"),this.binding_.enableOption("icon"),!0===this.icon_&&this.binding_.disableOption("form"),!0===this.form_&&this.binding_.disableOption("icon")}},{key:"addLabelPathListener",value:function(){var e=this,t=this.querySelector("[data-style-options='label.path']");t.addEventListener("change",function(){e.togglePathSection(!t.checked)})}},{key:"togglePathSection",value:function(e){this.querySelectorAllForEach("[data-textpath]",function(t){t.disabled=!0===e&&e})}},{key:"toggleCheckOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')).addEventListener("change",function(n){t.toggleCheckOptSectionListener(e,n)})}},{key:"toggleCheckOptSectionListener",value:function(e,t){!0===t.target.checked&&this.activateOption(e)}},{key:"checkOptionSection",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.activateOption(e),t.checked=!0}},{key:"activateOptionSection",value:function(e){var t=this;this.getParentTemplate().querySelector('[data-buttons-option] [data-label="'.concat(e,'"]')).addEventListener("click",function(){t.activateOption(e)})}},{key:"activateOption",value:function(e){var t=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')),n=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=n&&!1===n.disabled&&(this.activateLabel(t),this.displaySectionOption(e))}},{key:"activateLabel",value:function(e){this.querySelectorAllForEachParent("[data-selector]",function(e){e.classList.remove("check-active"),e.classList.add("check-selected")}),e.classList.add("check-active"),e.classList.remove("check-selected")}},{key:"displaySectionOption",value:function(e){this.hideAllOptionsSections(),this.showOptionSection(e)}},{key:"generateOptions",value:function(){var e=this,t={options:{}};this.querySelectorAllForEach("[data-style-options]",function(n){var a=n.dataset.styleOptions,i=n.value;"checkbox"===n.type&&(i=n.checked),"number"===n.type&&(i=parseFloat(i),isNaN(i)&&(i=0));var s=n.dataset.target;if(void 0!==s){var r=parseFloat(e.querySelector('[data-id="'.concat(s,'"]')).value);isNaN(r)&&(r=0),i=[i,r]}j.createObj(t.options,a,i)}),this.querySelectorAllForEach("[data-apply]",function(e){var n=e.dataset.apply;!1===e.checked&&j.createObj(t.options,n,void 0)});var n,a=this.querySelector("[data-font-size]").value||12,i=this.querySelector("[data-font-family]").value,s="".concat(a,"px ").concat(i),r=!0===this.icon?t.options.src:t.options.form;return null!=t.options.label&&null!=t.options.label.text&&(n=t.options.label),t.options={fill:t.options.fill,stroke:t.options.stroke,label:n,icon:r,radius:t.options.radius},"line"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label},delete t.options.fill.pattern,0===Object.keys(t.options.fill).length&&delete t.options.fill),"polygon"===this.getGeometry()&&(t.options={fill:t.options.fill,stroke:t.options.stroke,label:t.options.label}),null!=t.options.label&&(t.options.label.font=s),this.processOptions(t)}},{key:"processOptions",value:function(e){var t=M.utils.extends({},e),n=this.isChecked("fill"),a=this.isChecked("stroke"),i=this.isChecked("label"),s=this.isChecked("icon"),r=this.isChecked("form");return t.options.fill=!0===n?t.options.fill:void 0,t.options.stroke=!0===a?t.options.stroke:void 0,t.options.label=!0===i?t.options.label:void 0,t.options.icon=!0===s||!0===r?t.options.icon:void 0,t}},{key:"isChecked",value:function(e){var t=!1,n=this.getParentTemplate().parentElement.querySelector("[data-buttons-option-category] input[data-apply='".concat(e,"'"));return null!=n&&(t=n.checked),t}},{key:"generateStyle",value:function(){var e;this.querySelectorAllForEach("[data-apply]",function(e){!0===e.checked&&!1});var t=this.getGeometry(),n=this.generateOptions().options;switch(t){case"point":e=new M.style.Point(n);break;case"line":e=new M.style.Line(n);break;case"polygon":e=new M.style.Polygon(n);break;default:M.dialog.error("Geometría no soportada","Error")}return e}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')),i=this.querySelectorParent('[data-buttons-option] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("click",function(){!1===i.checked?n.disableOption(t):n.enableOption(t)})}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active"),t.disabled=!0,t.checked=!1}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]'));this.getParentTemplate().querySelector('[data-buttons-option] input[data-apply="'.concat(e,'"]+label')).classList.remove("check-inactive"),t.disabled=!1}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;null!=this.style_&&(null!=this.style_.get("fill.pattern")&&(e.patternflag=!0),e=M.utils.extends({},this.style_.getOptions()),e=M.utils.extends(e,t.DEFAULT_OPTIONS_STYLE)),e.fill.color=x(e.fill.color).hex(),e.stroke.color=x(e.stroke.color).hex(),e.label.fill.color=x(e.label.fill.color).hex(),e.label.stroke.color="no-color"===e.label.stroke.color?"no-color":x(e.label.stroke.color).hex(),e.fill.pattern.color=x(e.fill.pattern.color).hex(),e.icon.fill=x(e.icon.fill).hex(),e.icon.gradientcolor=x(e.icon.gradientcolor).hex();var n=Object.keys(M.style.pattern).filter(function(e){return"ICON"!=e&&"IMAGE"!=e}),a=Object.values(M.style.align),i=Object.values(M.style.baseline),s=Object.values(M.style.form).filter(function(e){return null!=e});if(e.patternlist=t.arrayDataToTemplate(e.fill.pattern.name,n,n),e.linecapstroke=t.arrayDataToTemplate(e.stroke.linecap,["butt","square","round"],["Extremo","Cuadrado","Redondeado"]),e.linejoinstroke=t.arrayDataToTemplate(e.stroke.linejoin,["bevel","miter","round"],["Bisel","Inglete","Redondeado"]),e.linecaplabelstroke=t.arrayDataToTemplate(e.label.stroke.linecap,["butt","square","round"],["Extremo","Cuadrado","Redondeado"]),e.linejoinlabelstroke=t.arrayDataToTemplate(e.label.stroke.linejoin,["bevel","miter","round"],["Bisel","Inglete","Redondeado"]),e.alignlist=t.arrayDataToTemplate(e.label.align,a,a),e.baselinelist=t.arrayDataToTemplate(e.label.baseline,i,i),e.formlist=t.arrayDataToTemplate(e.icon.form,s,s),null!=this.layer_){var r=Object.keys(this.getFeaturesAttributes()),l=null!=e.label?e.label.text:"";e.featuresAttr=t.arrayDataToTemplate(l,r.map(function(e){return"{{".concat(e,"}}")}),r)}return e}},{key:"toggleDisplaySubmenu",value:function(e){var t=!0===e?"add":"remove";this.getParentTemplate().querySelector("[data-buttons-option]").classList[t]("m-hidden")}},{key:"addLegendListener",value:function(){var e=this;this.querySelectorAllForEach("input,select,div.m-boxes",function(t){t instanceof HTMLDivElement?t.addEventListener("click",function(){e.refreshLegend(t)}):t instanceof HTMLSelectElement?t.addEventListener("change",function(){e.refreshLegend(t)}):t.addEventListener("input",function(){e.refreshLegend(t)})})}},{key:"refreshLegend",value:function(e,n){var a=this.imgId_,i=this.generateStyle();if(!0===n&&(i=this.style_),null!=i){this.style_=i,(i=i.clone())instanceof M.style.Point&&(i.set("radius",t.RADIUS_OPTION),null!=i.get("icon.radius")&&i.set("icon.radius",t.ICON_RADIUS_OPTION));var s=this.htmlParent_.querySelector("img[id='img-".concat(a,"']"));i.updateCanvas();var r=i.toImage();null!=s&&(s.src=r)}}},{key:"imgId",set:function(e){this.imgId_=e},get:function(){return this.imgId_}},{key:"fill",set:function(e){this.fill_=e},get:function(){return this.fill_}},{key:"stroke",set:function(e){this.stroke_=e},get:function(){return this.stroke_}},{key:"label",set:function(e){this.label_=e},get:function(){return this.label_}},{key:"form",set:function(e){this.form_=e},get:function(){return this.form_}},{key:"icon",set:function(e){this.icon_=e},get:function(){return this.icon_}},{key:"style",get:function(){return this.style_}}])&&Se(n.prototype,a),i&&Se(n,i),t}();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Pe(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te=function(e){function t(e,n,a,i,s,r){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(l=Pe(this,qe(t).call(this,e,n,a,i,s))).styleCategories_={},l.compilePromise_.then(function(){l.getTemplate().querySelector("[data-options='attributeName']").addEventListener("input",function(){l.renderAttributeOptions()})}),l.selectedCategory_=null,l.clickedOnTable_=!1,l.controller_=r,l}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,j),n=t,i=[{key:"OPTIONS_POINT_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"},{id:"icon",name:"Icono"},{id:"form",name:"Fuente"}]}},{key:"OPTIONS_SUBMENU",get:function(){return[{id:"fill",name:"Relleno"},{id:"stroke",name:"Trazo"},{id:"label",name:"Etiqueta"}]}},{key:"MAXNUMBER_CATEGORIES",get:function(){return 30}}],(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.setAttributes(),this.refreshOptionsButtons(),this}},{key:"unhide",value:function(){return this.getTemplate().classList.remove("m-hidden"),this.getParentTemplate().querySelector("[data-buttons-option-category]").classList.remove("m-hidden"),this}},{key:"hide",value:function(){return this.getTemplate().classList.add("m-hidden"),this.getParentTemplate().querySelector("[data-buttons-option-category]").classList.add("m-hidden"),this}},{key:"addEventClickListener",value:function(){var e=this;this.querySelectorAllForEach("td:first-child",function(t){t.addEventListener("click",function(){e.toggleCategory(t.id)})})}},{key:"refreshOptionsButtons",value:function(){var e=this,t=Ee.OPTIONS_POINT_SUBMENU;"point"!==this.getGeometry()&&(t=Ee.OPTIONS_SUBMENU),this.addOptionsButtons(t,function(){e.compatibleSectionListener("icon","form"),e.compatibleSectionListener("form","icon")})}},{key:"addOptionsButtons",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.getParentTemplate().querySelector("[data-buttons-option-category]");this.addTemplate(ve.a,a,{buttonsParams:e},function(a){"function"==typeof n&&n(),e.forEach(function(n){return t.addEventOptionListener(n,e)}),e.forEach(function(n){return t.addEventCheckListener(n,e)}),t.deactivateSubmenu(),t.addEventCheckFromSubmenu()})}},{key:"addEventCheckFromSubmenu",value:function(){var e=this;this.querySelectorAllForEachParent("[data-buttons-option-category] input",function(t){t.addEventListener("change",function(){e.controller_.selectPanel("stylecategory"),e.controller_.setCompatibleStylePanels("stylecategory"),e.controller_.showActivePanel("stylecategory")})})}},{key:"compatibleSectionListener",value:function(e,t){var n=this,a=this.querySelectorParent('[data-buttons-option-category] input[data-apply="'.concat(e,'"]'));null!=a&&a.addEventListener("change",function(){!0===a.checked?n.disableOption(t):n.enableOption(t)})}},{key:"disableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]+label'));this.hideOptionSection(e),null!=n&&(n.classList.add("check-inactive"),n.classList.add("check-selected"),n.classList.remove("m-option-active")),null!=t&&(t.disabled=!0,t.checked=!1)}},{key:"enableOption",value:function(e){var t=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]')),n=this.getParentTemplate().querySelector('[data-buttons-option-category] input[data-apply="'.concat(e,'"]+label'));null!=n&&n.classList.remove("check-inactive"),null!=t&&(t.disabled=!1)}},{key:"toggleCategory",value:function(e){var t=this;Object.values(this.styleCategories_).forEach(function(e){e.hide()}),!1===this.clickedOnTable_&&(this.activateSubmenu(),this.clickedOnTable_=!0);var n=this.styleCategories_[e];this.selectedCategory_=n;var a=this.selectedCategory_.getOptions();this.checkInput("fill",a.fill),this.checkInput("stroke",a.stroke),this.checkInput("label",a.label),this.checkInput("form",a.form),this.checkInput("icon",a.icon),null!=n&&(n.unhide(),n.showCompatibleSections()),Object.values(this.styleCategories_).forEach(function(e){e.setLayer(t.layer_,!1)})}},{key:"renderAttributeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.querySelector("[data-options='attributeName']").value;null!=this.style_&&!0===e&&(n=this.style_.getAttributeName());var a=!M.utils.isNullOrEmpty(n),i=this.getAllValuesAttribute(n).filter(function(e){return!M.utils.isNullOrEmpty(e)}).map(function(e){return{name:e}}).splice(0,t.MAXNUMBER_CATEGORIES);this.removeCategories(),this.createCategories(i),this.addCategoriesView(i,a)}},{key:"addCategoriesView",value:function(e,t){var n=this,a=this.querySelector("[data-options='values']");this.compileTemplate(me.a,{values:e,attributeExists:t}).then(function(e){a.innerHTML=e.innerHTML,Object.values(n.styleCategories_).forEach(function(e){e.refreshTemplate(),e.hide()}),n.addEventClickListener(),n.addEventSelectedListener(),n.addLegendListenerAll()})}},{key:"createCategories",value:function(e){var t=this,n=null==this.style_?null:this.style_.getCategories();e.forEach(function(e){var a=null==n?null:n[e.name];t.styleCategories_[e.name]=new Ee(ge.a,t.htmlTemplate_,"stylesimple",a,t.layer_,t),t.styleCategories_[e.name].compilePromise_.then(function(){t.styleCategories_[e.name].refreshLegend(e.name,!0)}),t.setGeometryCategory(t.styleCategories_[e.name])});var a=null==n?null:n.other;this.styleCategories_.other=new Ee(p.a,this.htmlTemplate_,"stylesimple",a,this.layer_,this),this.styleCategories_.other.compilePromise_.then(function(){t.styleCategories_.other.refreshLegend("other",!0)}),this.setGeometryCategory(this.styleCategories_.other)}},{key:"removeCategories",value:function(){Object.values(this.styleCategories_).forEach(function(e){return e.destroy()}),this.styleCategories_={}}},{key:"setAttributes",value:function(){var e=this;if(this.layer_ instanceof M.layer.Vector){var t=null==this.style_?"":this.style_.getAttributeName(),n=this.filterAttributesFeature("string").map(function(e){return{name:e,selected:t}}),a=this.getTemplate().querySelector("[data-options='attributeName']");this.compileTemplate(A.a,{attributes:n}).then(function(t){a.innerHTML=t.innerHTML,e.renderAttributeOptions(!0),0===n.length?e.deactivateBinding():e.activateBinding()})}}},{key:"setGeometryCategory",value:function(e){switch(this.layer_.getFeatures()[0].getGeometry().type){case"Point":case"MultiPoint":e.geometry_="point";break;case"LineString":case"MultiLineString":e.geometry_="line";break;case"Polygon":case"MultiPolygon":e.geometry_="polygon";break;default:M.dialog.error("Geometria no soportada","Error")}}},{key:"showSection",value:function(e){this.querySelectorAllForEach("[data-id='".concat(e,"']"),function(e){e.classList.remove("m-hidden")})}},{key:"hideSection",value:function(e){this.querySelectorAllForEach("[data-id='".concat(e,"']"),function(e){e.classList.add("m-hidden")})}},{key:"addEventOptionListener",value:function(e,t){var n=this,a=this.querySelectorParent("[data-buttons-option-category] [data-label='".concat(e.id,"']")),i=this.querySelectorParent("[data-buttons-option-category] input[data-apply='".concat(e.id,"']"));a.addEventListener("click",function(){!1===i.disabled&&(t.forEach(function(e){return n.hideSection(e.id)}),n.showSection(e.id),n.activeSection(e.id))})}},{key:"addEventCheckListener",value:function(e,t){var n=this;this.querySelectorParent("[data-buttons-option-category] input[data-apply='".concat(e.id,"']")).addEventListener("click",function(){n.checkSection(e.id,t)})}},{key:"activeSection",value:function(e){var t=this.querySelectorParent("[data-buttons-option-category] [data-selector='".concat(e,"']"));this.querySelectorAllForEachParent("[data-buttons-option-category] [data-selector]",function(e){e.classList.remove("check-active"),e.classList.add("check-selected")}),t.classList.remove("check-selected"),t.classList.add("check-active")}},{key:"setSelectedRow",value:function(e){this.querySelectorAllForEach("td:first-child",function(e){e.classList.remove("m-table-cell-selected")}),this.querySelector("[id='".concat(e,"']")).classList.add("m-table-cell-selected")}},{key:"addEventSelectedListener",value:function(){var e=this;this.querySelectorAllForEach("td:first-child",function(t){var n=t.id;t.addEventListener("click",function(){return e.setSelectedRow(n)})})}},{key:"checkSection",value:function(e,t){var n=this;!0===this.querySelectorParent("[data-buttons-option-category] #cat-".concat(e)).checked?(null!=this.selectedCategory_&&(this.selectedCategory_[e]=!0),t.forEach(function(e){return n.hideSection(e.id)}),this.showSection(e),this.activeSection(e)):null!=this.selectedCategory_&&(this.selectedCategory_[e]=!1),this.selectedCategory_.refreshLegend()}},{key:"checkInput",value:function(e,t){var n=this.querySelectorParent("[data-buttons-option-category] #cat-".concat(e));null!=n&&(n.checked=t)}},{key:"activateSubmenu",value:function(){this.querySelectorAllForEachParent("[data-buttons-option-category] input",function(e){return e.disabled=!1}),this.querySelectorAllForEachParent("[data-buttons-option-category] label[data-selector]",function(e){e.classList.remove("check-inactive"),e.classList.add("check-selected")})}},{key:"deactivateSubmenu",value:function(){this.querySelectorAllForEachParent("[data-buttons-option-category] input",function(e){return e.disabled=!0}),this.querySelectorAllForEachParent("[data-buttons-option-category] label[data-selector]",function(e){e.classList.add("check-inactive"),e.classList.remove("check-selected")})}},{key:"getGeometry",value:function(){var e=this.layer_.getFeatures()[0].getGeometry().type;switch(e){case"Point":case"MultiPoint":e="point";break;case"LineString":case"MultiLineString":e="line";break;case"Polygon":case"MultiPolygon":e="polygon";break;default:M.dialog.error("Geometria no soportada","Error")}return e}},{key:"getAllValuesAttribute",value:function(e){return this.layer_.getFeatures().map(function(t){return t.getAttribute(e)}).filter(function(e,t,n){return n.indexOf(e)==t})}},{key:"generateOptions",value:function(){var e=this,t={},n={};return t.attributeName=this.querySelector("[data-options='attributeName']").value,Object.keys(this.styleCategories_).forEach(function(t){var a=e.styleCategories_[t],i=e.styleCategories_[t].generateOptions().options,s=a.fill,r=a.stroke,l=a.icon||a.form,o=a.label;null!=i.fill&&Object.values(i.fill).filter(function(e){return null!=e});(s||r||l||o)&&(n[t]=e.styleCategories_[t].style)},this),t.options=n,t}},{key:"generateStyle",value:function(){var e=this.generateOptions(),t=null;return""!==e.attributeName&&(t=new M.style.Category(e.attributeName,e.options)),t}},{key:"addLegendListenerAll",value:function(){var e=this;Object.keys(this.styleCategories_).forEach(function(t){var n=e.styleCategories_[t];n.imgId=t,n.addLegendListener()})}}])&&Le(n.prototype,a),i&&Le(n,i),t}(),Ce=n(14),Me=n.n(Ce),je=n(15),Ne=n.n(je),Fe=n(16),Ie=n.n(Fe);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ge(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var He=function(e){function t(e,n,a,i,s){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ge(this,ze(t).call(this,e,n,a,i,s))).variables_=[],null!=i&&(r.variables_=i.getOptions().variables.map(function(e){return e.attribute})),r.compilePromise_.then(function(){r.addKeyEnterListener(),r.addRenderCompatibleListener(),r.addAttributeListener(),r.refreshVariables()}),r}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,j),n=t,(a=[{key:"setLayer",value:function(e){return this.layer_=e,this.renderAttributes(),this}},{key:"addAttribute",value:function(e){this.variables_.push(e)}},{key:"removeAttribute",value:function(e){this.variables_=this.variables_.filter(function(t){return t!=e})}},{key:"addAttributeFromParamenter",value:function(e){this.addAttribute(e),this.addVariableTemplate(e),this.refreshPagination()}},{key:"addAttributeFromInput",value:function(){var e=this.querySelector("[data-attribute]").value;""!==e?this.variables_.includes(e)?M.dialog.info("El atributo ya ha sido agregado.","Nombre de variable repetida"):this.layer_.getFeatures()[0].getAttributes().hasOwnProperty(e)?this.addAttributeFromParamenter(e):M.dialog.info("No existe ninguna variable con ese nombre.","Nombre de variable incorrecto."):M.dialog.info("No está permitido introducir una cadena vacía.","Nombre de variable vacía.")}},{key:"removeAttributeFromInput",value:function(){var e=this.querySelector("[data-attribute]").value;this.removeAttribute(e)}},{key:"addAttributeListener",value:function(){var e=this;this.querySelector("[data-add]").addEventListener("click",function(){e.addAttributeFromInput()})}},{key:"addKeyEnterListener",value:function(){this.querySelector("[data-attribute]").addEventListener("keydown",this.keyEnterListener())}},{key:"keyEnterListener",value:function(){var e=this;return function(t){"Enter"===t.key&&e.addAttributeFromInput()}}},{key:"addVariableTemplate",value:function(e){var n,a=this,i=this.querySelector("[data-variables]"),s=[],r=t.DEFAULT_OPTIONS_VARIABLE.legend,l=t.DEFAULT_OPTIONS_VARIABLE.label;null!=this.style_&&(s=this.style_.getOptions().variables),0!==s.length&&null!=(n=s.find(function(t){return t.attribute===e}))&&(r=n.legend,l=n.label),this.compileTemplate(Me.a,{attribute:e,legend:r,label:l}).then(function(t){i.append.apply(i,De(t.children));var n=a.querySelector('[data-remove="'.concat(e,'"]'));null!=n&&(a.addRemoveVarSectionListener(n),a.addLabelOptionListener(e))})}},{key:"removeVariableTemplate",value:function(e){var t=this.querySelector(".m-chart-variables");this.querySelectorAllForEach('.m-chart-variables [data-delete="'.concat(e,'"]'),function(e){t.removeChild(e)})}},{key:"removeVariableSection",value:function(e){this.removeAttribute(e),this.removeVariableTemplate(e),this.refreshPagination()}},{key:"refreshVariables",value:function(){var e=this;De(this.variables_).forEach(function(t){e.removeVariableSection(t),e.addAttributeFromParamenter(t)})}},{key:"addRemoveVarSectionListener",value:function(e){e.addEventListener("click",this.removeVarSectionListener(e).bind(this))}},{key:"removeVarSectionListener",value:function(e){var t=this,n=e.dataset.remove;return function(){t.removeVariableSection(n)}}},{key:"refreshPagination",value:function(){var e=this,t=this.variables_.map(function(e,t){return{attribute:e,number:t+1}}),n=this.querySelector("[data-pagination]");this.compileTemplate(Ne.a,{ranges:t}).then(function(t){n.innerHTML=t.innerHTML,e.addClickPagerListener();var a=e.variables_.slice(-1)[0];null!=a&&e.showVariableSection(a)()})}},{key:"addClickPagerListener",value:function(){var e=this;this.querySelectorAllForEach("[data-page-selector]",function(t){var n=t.dataset.pageSelector;t.addEventListener("click",e.showVariableSection(n).bind(e))})}},{key:"clickPagerListener",value:function(e){this.querySelectorAllForEach("[data-target]",function(e){e.classList.add("m-hidden")}),this.querySelectorAllForEach('[data-target="'.concat(e,'"]'),function(e){e.classList.remove("m-hidden")})}},{key:"activePageListener",value:function(e){this.querySelectorAllForEach("[data-page-selector]",function(e){e.classList.remove("m-page-active")});var t=this.querySelector('[data-page-selector="'.concat(e,'"]'));null!=t&&t.classList.add("m-page-active")}},{key:"showVariableSection",value:function(e){var t=this;return function(){t.clickPagerListener(e),t.activePageListener(e)}}},{key:"renderCompatibleOpts",value:function(e){this.querySelectorAllForEach("[data-type]",function(t){t.dataset.type.split(",").includes(e)?t.classList.remove("m-hidden"):t.classList.add("m-hidden")})}},{key:"renderCompatibleListener",value:function(){var e=this.querySelector("[data-style-options='type']").selectedOptions[0].value;this.renderCompatibleOpts(e)}},{key:"addRenderCompatibleListener",value:function(){this.querySelector("[data-style-options='type']").addEventListener("change",this.renderCompatibleListener.bind(this))}},{key:"renderAttributes",value:function(){var e=this,t=this.layer_.getFeatures()[0].getAttributes(),n=Object.keys(t);n=n.filter(function(e){return!isNaN(parseFloat(t[e]))}),this.compileTemplate(Ie.a,{attributes:n}).then(function(t){e.querySelector("[data-attribute]").innerHTML=t.innerHTML})}},{key:"toggleLabelOptions",value:function(e){var t=this.querySelector('[data-label-target="'.concat(e,'"]')).classList;!0===t.contains("m-hidden")?t.remove("m-hidden"):t.add("m-hidden")}},{key:"addLabelOptionListener",value:function(e){var t=this;this.querySelector('[data-variable-option="'.concat(e,'.labelshow"]')).addEventListener("change",function(){t.toggleLabelOptions(e)})}},{key:"generateVariableOptions",value:function(){var e={};this.querySelectorAllForEach("input[data-variable-option]",function(t){var n=t.dataset.variableOption,a=t.value;"number"===t.type&&(a=parseFloat(a)),"checkbox"===t.type&&(a=t.checked),j.createObj(e,n,a)});var t=this.variables_.map(function(t){return e[t].attribute=t,e[t]});return t=t.map(function(e){return!0===e.labelshow?e.label.text=function(e,t){return Math.round(e/t.reduce(function(e,t){return e+t})*100)+"%"}:e.label=void 0,e})}},{key:"generateStyle",value:function(){var e=this.generateOptions().options,t=this.generateVariableOptions(),n=M.style.chart.schemes[e.scheme];return new M.style.Chart({type:e.type,scheme:n,radius:e.radius,donutRadio:e.donutRadius,offsetX:e.offsetX,offsetY:e.offsetY,variables:0===t.length?[new M.style.chart.Variable({attribute:"default"})]:t,fill3DColor:e.fill3DColor})}},{key:"getOptionsTemplate",value:function(){var e=t.DEFAULT_OPTIONS_STYLE;return null!=this.style_&&((e=this.style_.getOptions()).scheme=this.getSchemeName()),e}},{key:"getSchemeName",value:function(){if(null!=this.style_){var e=this.style_.getOptions().scheme,t=M.style.chart.schemes;name=Object.keys(t).find(function(n){return a=e,i=t[n],s=!1,r=!1,a instanceof Array&&i instanceof Array&&(s=a.every(function(e,t){return e===i[t]}),r=i.every(function(e,t){return e===a[t]})),s&&r;var a,i,s,r})}return name}}])&&Be(n.prototype,a),i&&Be(n,i),t}();function Ve(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ye(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}He.DEFAULT_OPTIONS_STYLE={donutRatio:4,fill3DColor:"#ff00f0",offsetX:0,offsetY:0,radius:12,rotateWithView:!1,scheme:["#ffa500","blue","red","green","cyan","magenta","yellow","#0f0"],type:"pie"},He.DEFAULT_OPTIONS_VARIABLE={legend:"Ejemplo de leyenda",label:{fill:"#ff0000",scale:1,text:function(e,t){return Math.round(e/t.reduce(function(e,t){return e+t})*100)+"%"},radiusIncrement:2,stroke:{color:"#000000",width:1}}};var Ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layer_=null,this.activePanel_=null,this.selectedPanels_=[],this.html_=t,this.renderViews(null)}var t,n,a;return t=e,a=[{key:"parseStyleToName",value:function(e){var t="";return e instanceof M.style.Simple?t="stylesimple":e instanceof M.style.Cluster?t="stylecluster":e instanceof M.style.Heatmap?t="styleheatmap":e instanceof M.style.Choropleth?t="stylechoropleth":e instanceof M.style.Category?t="stylecategory":e instanceof M.style.Chart?t="stylechart":e instanceof M.style.Proportional&&(t="styleproportional"),t}},{key:"STYLE_COMPATIBLE_OPTIONS",get:function(){return{stylesimple:["styleproportional","stylecluster","stylesimple"],styleproportional:["stylesimple","stylecluster","stylechart","styleproportional","stylecategory","stylechoropleth"],stylechoropleth:["styleproportional","stylecluster","stylechoropleth"],stylecategory:["styleproportional","stylecluster","stylecategory"],stylecluster:["stylesimple","stylechart","styleproportional","stylecategory","stylechoropleth","stylecluster"],styleheatmap:["styleheatmap"],stylechart:["stylecluster","styleproportional","stylechart"]}}},{key:"GEOMETRY_COMPATIBLE_OPTIONS",get:function(){return{point:["styleproportional","stylecluster","stylechoropleth","stylecategory","styleheatmap","stylechart","stylesimple"],line:["stylechoropleth","stylecategory","stylesimple"],polygon:["stylechoropleth","stylecategory","stylesimple","styleproportional"]}}}],(n=[{key:"getStyles",value:function(e,t){var n=null;if(null!=e){var a=e.getStyle();if(a instanceof t)n=a;else if(a instanceof M.style.Composite){n=a.getStyles().find(function(e){return e instanceof t})}}return n}},{key:"renderViews",value:function(e){var t=this;this.bindings_={},this.bindings_.stylesimple=new G(p.a,this.html_,"stylesimple",this.getStyles(e,M.style.Simple),e,this),this.bindings_.styleproportional=new K(y.a,this.html_,"styleproportional",this.getStyles(e,M.style.Proportional),e),this.bindings_.stylecluster=new ee(h.a,this.html_,"stylecluster",this.getStyles(e,M.style.Cluster),e),this.bindings_.stylechoropleth=new fe(b.a,this.html_,"stylechoropleth",this.getStyles(e,M.style.Choropleth),e),this.bindings_.stylecategory=new Te(S.a,this.html_,"stylecategory",this.getStyles(e,M.style.Category),e,this),this.bindings_.styleheatmap=new re(_.a,this.html_,"styleheatmap",this.getStyles(e,M.style.Heatmap),e),this.bindings_.stylechart=new He(E.a,this.html_,"stylechart",this.getStyles(e,M.style.Chart),e),this.bindings_.stylesimple.getCompilePromise().then(function(){t.addSelectOnChangeListener()}),this.allCompilePromises_=this.getBindings().map(function(e){return e.getCompilePromise()})}},{key:"getAllCompilePromises",value:function(){return this.allCompilePromises_}},{key:"renderViewsPromise",value:function(){var e=Object.values(this.bindings_).map(function(e){return e.getCompilePromise()});return Promise.all(e)}},{key:"destroyViews",value:function(){Object.values(this.bindings_).forEach(function(e){return e.destroy()})}},{key:"getActivePanel",value:function(){return this.activePanel_}},{key:"setActivePanel",value:function(e){Object.values(this.bindings_).forEach(function(e){return e.setActivated(!1)}),this.activePanel_=this.bindings_[e],this.activePanel_.setActivated(!0),"stylesimple"===e?this.bindings_.stylesimple.toggleDisplaySubmenu(!1):this.bindings_.stylesimple.toggleDisplaySubmenu(!0)}},{key:"getSelectedPanels",value:function(){var e=this;return this.selectedPanels_.map(function(t){return e.bindings_[t]})}},{key:"addSelectedPanel",value:function(e){this.selectedPanels_.includes(e)||(this.selectedPanels_.push(e),this.bindings_[e].setSelected(!0))}},{key:"selectPanel",value:function(e){this.html_.querySelector("[data-checkbox='".concat(e,"']")).checked=!0,this.addSelectedPanel(e)}},{key:"removeSelectedPanel",value:function(e){this.selectedPanels_=this.selectedPanels_.filter(function(t){return t!==e}),this.bindings_[e].setSelected(!1)}},{key:"disablePanel",value:function(e){var t=this.bindings_[e];null!=t&&t.setDisabled(!0)}},{key:"enablePanel",value:function(e){var t=this.bindings_[e];null!=t&&t.setDisabled(!1)}},{key:"setGeometry",value:function(e){this.geometry_=e}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"change",value:function(e){var t=this;this.destroyViews(),this.renderViews(e),this.renderViewsPromise().then(function(){t.setLayer(e),t.resetOptions(),t.setCompatiblePanels(),t.initBindings(e)})}},{key:"setLayer",value:function(e){switch(null===this.layer_&&(this.addActiveListener(),this.addSelectListener()),this.layer_=e,e.getFeatures()[0].getGeometry().type){case"Point":case"MultiPoint":this.setGeometry("point");break;case"LineString":case"MultiLineString":this.setGeometry("line");break;case"Polygon":case"MultiPolygon":this.setGeometry("polygon");break;default:M.dialog.error("Geometria no soportada","Error")}}},{key:"getKeysBindings",value:function(){return Object.keys(this.bindings_)}},{key:"getBindings",value:function(){return Object.values(this.bindings_)}},{key:"deactivateAll",value:function(){this.getBindings().forEach(function(e){return e.setActivated(!1)}),this.activePanel_=null}},{key:"unselectAll",value:function(){this.getBindings().forEach(function(e){return e.setSelected(!1)}),this.selectedPanels_=[]}},{key:"enableAll",value:function(){var e=this;this.getKeysBindings().forEach(function(t){return e.enablePanel(t)})}},{key:"disableAll",value:function(){var e=this;this.getKeysBindings().forEach(function(t){return e.disablePanel(t)})}},{key:"bindLayer",value:function(e){this.bindings_[e].setLayer(this.layer_),this.bindings_[e].setDisabled(!1)}},{key:"resetOptions",value:function(){this.deactivateAll(),this.unselectAll()}},{key:"initBindings",value:function(t){var n=this;this.bindings_.stylesimple.setGeometry(this.geometry_).setLayer(this.layer_);var a=[t.getStyle()];a[0]instanceof M.style.Composite&&a.push.apply(a,Ve(a[0].getStyles())),a.map(function(t){return e.parseStyleToName(t)}).forEach(function(e){n.showCompatiblePanel(e),n.activeLastSelected(e)})}},{key:"setCompatiblePanels",value:function(){var t=this,n=e.GEOMETRY_COMPATIBLE_OPTIONS[this.geometry_];this.getKeysBindings().forEach(function(e){n.includes(e)?t.bindLayer(e):t.disablePanel(e)}),this.deactivateAll()}},{key:"setCompatibleStylePanels",value:function(e){var t=this;this.disableAll(),this.getCompatibles().forEach(function(e){t.compatibleGeometry(e)&&t.enablePanel(e)}),this.selectedPanels_.forEach(function(e){t.bindings_[e].setSelected(!0)})}},{key:"showActivePanel",value:function(e){this.deactivateAll(),this.setActivePanel(e)}},{key:"activeLastSelected",value:function(e){var t=this.selectedPanels_.slice(-1)[0];null==t&&(t=e),this.showActivePanel(t)}},{key:"showCompatiblePanel",value:function(e){this.selectedPanels_.includes(e)?this.removeSelectedPanel(e):this.addSelectedPanel(e),this.setCompatibleStylePanels(e)}},{key:"addActiveListener",value:function(){var e=this;this.getKeysBindings().forEach(function(t){var n=e.bindings_[t],a=n.getSelectButton(),i=n.getActivateButton();e.html_.querySelector("[data-flap='".concat(t,"']+label")).addEventListener("click",function(){if(!1===a.disabled){var t=i.dataset.flap;e.toggleDisplaySubmenu("stylesimple"!==t),e.showActivePanel(t)}})})}},{key:"addSelectListener",value:function(){var e=this;this.getKeysBindings().forEach(function(t){var n=e.bindings_[t].getSelectButton();n.addEventListener("change",function(){var t=n.dataset.checkbox;e.toggleDisplaySubmenu("stylesimple"!==t),e.showCompatiblePanel(t),e.activeLastSelected(t)})})}},{key:"getStyle",value:function(){var e;if(0===this.getSelectedPanels().length)M.dialog.info("Debe elegir al menos un estilo","Elija estilo");else if(1===this.getSelectedPanels().length)e=this.getSelectedPanels()[0].generateStyle();else{var t=this.getMainStyle(),n=this.getIndividualStyles();t.add(n),e=t}return e}},{key:"getMainStyle",value:function(){return this.getSelectedPanels().map(function(e){return e.generateStyle()}).find(function(e){return e instanceof M.style.Composite})}},{key:"getIndividualStyles",value:function(){var e=this.getMainStyle();return this.getSelectedPanels().filter(function(e){return null!=e}).map(function(e){return e.generateStyle()}).filter(function(t){return!t.equals(e)})}},{key:"getCompatibles",value:function(){var e=this;return["stylesimple","stylecluster","stylechart","styleproportional","stylecategory","stylechoropleth","styleheatmap"].filter(function(t){return e.isCompatibleAll(e.selectedPanels_,t)})}},{key:"toggleDisplaySubmenu",value:function(e){this.bindings_.stylesimple.toggleDisplaySubmenu(e)}},{key:"isCompatible",value:function(t,n){return e.STYLE_COMPATIBLE_OPTIONS[t].includes(n)}},{key:"isCompatibleAll",value:function(e,t){var n=this,a=!0;return e.forEach(function(e){n.isCompatible(e,t)||(a=!1)}),a}},{key:"compatibleGeometry",value:function(t){return e.GEOMETRY_COMPATIBLE_OPTIONS[this.geometry_].includes(t)}},{key:"addSelectOnChangeListener",value:function(){var e=this;this.bindings_.stylesimple.querySelectorAllForEach("*",function(t){t.addEventListener("click",function(){e.addSelectedPanel("stylesimple")})})}}])&&Ye(t.prototype,n),a&&Ye(t,a),e}();function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qe(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M.utils.isUndefined(u)&&M.exception("La implementación usada no puede crear controles PluginControl");var a=new u;return(n=Qe(this,Ze(t).call(this,a,"StyleManager"))).layer_=e,n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,M.Control),n=t,(a=[{key:"createView",value:function(e){var t=this;this.facadeMap_=e;var n=e.getWFS().concat(e.getKML().concat(e.getLayers().filter(function(e){return"GeoJSON"===e.type})));return new Promise(function(e,a){var s=M.template.compileSync(i.a,{jsonp:!0,vars:{layers:n}}),r=s.querySelector("#m-stylemanager-select"),l=s.querySelector(".m-stylemanager-container-select");t.bindinController_=new Ke(l),t.addSelectListener(r,s),t.subscribeAddedLayer(r),t.addApplyBtnListener(s),t.addClearBtnListener(s),t.renderOptionsLayerParam(r,s,n),e(s),t.loadFonts(s)})}},{key:"renderOptionsLayerParam",value:function(e,t,n){var a=this;this.layer_ instanceof M.layer.Vector&&Promise.all(this.bindinController_.getAllCompilePromises()).then(function(){a.renderOptions(e,t,a.layer_),M.template.compile("selectlayer.html",{vars:{layers:n.map(function(e){return{name:e.name,selected:a.layer_.name}})}}).then(function(t){e.innerHTML=t.innerHTML})})}},{key:"addOpenAttribute",value:function(e){e.querySelector(".m-stylemanager-container-select").setAttribute("open-select","")}},{key:"addApplyBtnListener",value:function(e){e.querySelector("[data-apply-style]").addEventListener("click",this.applyStyle.bind(this))}},{key:"addClearBtnListener",value:function(e){e.querySelector("[data-clear-style]").addEventListener("click",this.clearStyle.bind(this))}},{key:"addSelectListener",value:function(e,t){var n=this;e.addEventListener("change",function(){n.renderOptions(e,t)})}},{key:"subscribeAddedLayer",value:function(e){var t=this;this.facadeMap_.on(M.evt.ADDED_LAYER,function(n){if(Array.isArray(n))n.filter(function(e){return e instanceof M.layer.Vector}).forEach(function(n){return t.addLayerOption(e,n.name)});else if(n instanceof M.layer.Vector){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){We(e,t,n[t])})}return e}({},n);t.addLayerOption(e,a)}})}},{key:"getActivationButton",value:function(e){return e.querySelector("button.m-panel-btn")}},{key:"addLayerOption",value:function(e,t){if("cluster_cover"!=t&&!0===this.isNotAdded(t,e)){var n=document.createElement("option");n.setAttribute("name",t),n.innerText=t,e.add(n)}}},{key:"isNotAdded",value:function(e,t){return!Je(t.children).some(function(t){return t.innerHTML===e})}},{key:"renderOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.value;(this.layer_=this.getLayerByName(a),null!=n&&(this.layer_=n),this.layer_ instanceof M.layer.Vector)&&(0===this.layer_.getFeatures().length?(M.dialog.error("La capa no tiene features o aún no se han cargado.","Error"),e.selectedIndex=0):(this.bindinController_.change(this.layer_),this.showBoxes(t),this.addOpenAttribute(t)))}},{key:"getLayerByName",value:function(e){return this.facadeMap_.getWFS().concat(this.facadeMap_.getKML().concat(this.facadeMap_.getLayers().filter(function(e){return"GeoJSON"===e.type}))).find(function(t){return t.name===e})}},{key:"showBoxes",value:function(e){e.querySelector(".m-boxes").classList.remove("m-hidden")}},{key:"applyStyle",value:function(){if(this.layer_ instanceof M.layer.Vector){this.layer_.setStyle(null);var e=this.bindinController_.getStyle();this.layer_.setStyle(e)}else M.dialog.info("Tiene que elegir una capa.","Elija capa")}},{key:"clearStyle",value:function(){this.layer_ instanceof M.layer.Vector?this.layer_.clearStyle():M.dialog.info("Tiene que elegir una capa.","Elija capa")}},{key:"loadFonts",value:function(){M.style.Font.addSymbol({font:"FontAwesome",name:"FontAwesome",copyright:"SIL OFL 1.1",prefix:"fa"},{"fa-glass":"","fa-music":"","fa-search":"","fa-envelope-o":"","fa-heart":"","fa-star":"","fa-star-o":"","fa-user":"","fa-film":"","fa-th-large":"","fa-th":"","fa-th-list":"","fa-check":"","fa-remove":"","fa-close":"","fa-times":"","fa-search-plus":"","fa-search-minus":"","fa-power-off":"","fa-signal":"","fa-gear":"","fa-cog":"","fa-trash-o":"","fa-home":"","fa-file-o":"","fa-clock-o":"","fa-road":"","fa-download":"","fa-arrow-circle-o-down":"","fa-arrow-circle-o-up":"","fa-inbox":"","fa-play-circle-o":"","fa-rotate-right":"","fa-repeat":"","fa-refresh":"","fa-list-alt":"","fa-lock":"","fa-flag":"","fa-headphones":"","fa-volume-off":"","fa-volume-down":"","fa-volume-up":"","fa-qrcode":"","fa-barcode":"","fa-tag":"","fa-tags":"","fa-book":"","fa-bookmark":"","fa-print":"","fa-camera":"","fa-font":"","fa-bold":"","fa-italic":"","fa-text-height":"","fa-text-width":"","fa-align-left":"","fa-align-center":"","fa-align-right":"","fa-align-justify":"","fa-list":"","fa-dedent":"","fa-outdent":"","fa-indent":"","fa-video-camera":"","fa-photo":"","fa-image":"","fa-picture-o":"","fa-pencil":"","fa-map-marker":"","fa-adjust":"","fa-tint":"","fa-edit":"","fa-pencil-square-o":"","fa-share-square-o":"","fa-check-square-o":"","fa-arrows":"","fa-step-backward":"","fa-fast-backward":"","fa-backward":"","fa-play":"","fa-pause":"","fa-stop":"","fa-forward":"","fa-fast-forward":"","fa-step-forward":"","fa-eject":"","fa-chevron-left":"","fa-chevron-right":"","fa-plus-circle":"","fa-minus-circle":"","fa-times-circle":"","fa-check-circle":"","fa-question-circle":"","fa-info-circle":"","fa-crosshairs":"","fa-times-circle-o":"","fa-check-circle-o":"","fa-ban":"","fa-arrow-left":"","fa-arrow-right":"","fa-arrow-up":"","fa-arrow-down":"","fa-mail-forward":"","fa-share":"","fa-expand":"","fa-compress":"","fa-plus":"","fa-minus":"","fa-asterisk":"","fa-exclamation-circle":"","fa-gift":"","fa-leaf":"","fa-fire":"","fa-eye":"","fa-eye-slash":"","fa-warning":"","fa-exclamation-triangle":"","fa-plane":"","fa-calendar":"","fa-random":"","fa-comment":"","fa-magnet":"","fa-chevron-up":"","fa-chevron-down":"","fa-retweet":"","fa-shopping-cart":"","fa-folder":"","fa-folder-open":"","fa-arrows-v":"","fa-arrows-h":"","fa-bar-t-o":"","fa-bar-t":"","fa-twitter-square":"","fa-facebook-square":"","fa-camera-retro":"","fa-key":"","fa-gears":"","fa-cogs":"","fa-comments":""})}},{key:"equals",value:function(e){return e instanceof t}}])&&$e(n.prototype,a),s&&$e(n,s),t}();function nt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var at=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"apply",value:function(e){var t=e.document,n={started:!1,color:"#000000",inputs:{},hasNativeColorSupport:!1,init:function(e){if(this.start(),!this.hasNativeColorSupport){if("string"!=typeof e)throw"inputId have to be a string id selector";if(this.input=(this.inputs[e]=this.inputs[e])||t.getElementById(e),!this.input)throw'There was no input found with id: "'+e+'"';this.input.value=this.color,this.input.unselectable="on",this.css(this.input,{backgroundColor:this.color,borderWidth:"0.4em 0.3em",width:"3em",cursor:"default"}),this.input.onfocus=function(){n.onFocus(this.id)}}},start:function(){if(!this.started){try{this.hasNativeColorSupport=!!(t.createElement("input").type="color")}catch(e){}if(!this.hasNativeColorSupport){var e=t.createElement("object");e.classid="clsid:3050f819-98b5-11cf-bb82-00aa00bdce0b",e.id="colorHelperObj",this.css(e,{width:"0",height:"0"}),t.body.appendChild(e)}this.started=!0}},destroy:function(e){var n;if("string"==typeof e)this.off(this.inputs[e]);else{for(n in t.body.removeChild(t.getElementById("colorHelperObj")),this.inputs)this.off(this.inputs[n]);this.started=!1}},off:function(e){e.onfocus=null,this.css(e,{backgroundColor:"",borderWidth:"",width:"",cursor:""})},onFocus:function(e){this.input=this.inputs[e],this.color=this.getColor(),this.input.value=this.color,n.css(this.input,{backgroundColor:this.color,color:this.color}),this.input.blur()},getColor:function(){var e=t.getElementById("colorHelperObj").ChooseColorDlg(this.color.replace(/#/,"")).toString(16);e.length<6&&(e="000000".substring(0,6-e.length).concat(e));return"#"+e},css:function(e,t){for(var n in t)e.style[n]=t[n]}};e.nativeColorPicker=n}}],(n=null)&&nt(t.prototype,n),a&&nt(t,a),e}(),it=n(17);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function lt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=lt(this,ot(t).call(this))).map_=null,e.controls_=[],e.metadata_=it.metadata,e.panel_=null,e.layer_=n,at.apply(window),Handlebars.registerHelper("sum",function(e,t){return e+t}),Handlebars.registerHelper("neq",function(e,t,n){return Object.equals(e,t)?n.inverse(this):n.fn(this)}),Handlebars.registerHelper("unless",function(e,t){return e?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("get",function(e,t){return t[e]}),Handlebars.registerHelper("uppercase",function(e){return e.toUpperCase()}),Handlebars.registerHelper("lowercase",function(e){return e.toLowerCase()}),M.utils.extends=M.utils.extendsObj,e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,M.Plugin),n=t,(a=[{key:"addTo",value:function(e){this.controls_.push(new tt(this.layer_)),this.map_=e,this.panel_=new M.ui.Panel(t.NAME,{collapsible:!0,className:"m-stylemanager",collapsedButtonClass:"g-sigc-palette",position:M.ui.position.TL}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_);var e=[null,null,null];this.control_=e[0],this.panel_=e[1],this.map_=e[2]}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"name",get:function(){return"stylemanager"}}])&&rt(n.prototype,a),i&&rt(n,i),t}();window.M.plugin||(window.M.plugin={}),window.M.plugin.StyleManager=dt}]);
//# sourceMappingURL=stylemanager-2.0.5.ol.min.js.map